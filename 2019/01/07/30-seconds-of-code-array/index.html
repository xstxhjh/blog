<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


  
  
    
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1.0.0/needsharebutton.min.css">










<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



















  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.5.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.5.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.5.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.5.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.5.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.5.0',
    sidebar: {"position":"left","Muse | Mist":320,"display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: false,
    fastclick: false,
    lazyload: true,
    tabs: true,
    motion: {"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="٩(๑´0`๑)۶  每一个代码段都十分精妙，很多地方都让人意想不到，值得你花时间去学习它们。  言：岁月不饶人，我亦未曾饶过岁月。">
<meta name="keywords" content="ECMAScript6+,Array">
<meta property="og:type" content="article">
<meta property="og:title" content="30秒学习JavaScript代码段(Array篇)">
<meta property="og:url" content="https://chirenmeng.com/2019/01/07/30-seconds-of-code-array/index.html">
<meta property="og:site_name" content="Chirenmeng">
<meta property="og:description" content="٩(๑´0`๑)۶  每一个代码段都十分精妙，很多地方都让人意想不到，值得你花时间去学习它们。  言：岁月不饶人，我亦未曾饶过岁月。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://wx4.sinaimg.cn/mw690/e03b4bf9gy1fynd27klgfj212w0go3z6.jpg">
<meta property="og:updated_time" content="2019-01-19T11:46:54.755Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="30秒学习JavaScript代码段(Array篇)">
<meta name="twitter:description" content="٩(๑´0`๑)۶  每一个代码段都十分精妙，很多地方都让人意想不到，值得你花时间去学习它们。  言：岁月不饶人，我亦未曾饶过岁月。">
<meta name="twitter:image" content="https://wx4.sinaimg.cn/mw690/e03b4bf9gy1fynd27klgfj212w0go3z6.jpg">






  <link rel="canonical" href="https://chirenmeng.com/2019/01/07/30-seconds-of-code-array/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>30秒学习JavaScript代码段(Array篇) | Chirenmeng</title>
  











  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/xstxhjh" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Chirenmeng</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <h1 class="site-subtitle" itemprop="description">来自程序员的自述！</h1>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签<span class="badge">26</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类<span class="badge">5</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档<span class="badge">12</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-commonweal">

    
    
    
      
    

    
      
    

    <a href="/404.html" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>公益 404</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  
    <div class="reading-progress-bar"></div>
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chirenmeng.com/2019/01/07/30-seconds-of-code-array/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chirenmeng">
      <meta itemprop="description" content="一个属于前端的博客">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chirenmeng">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">30秒学习JavaScript代码段(Array篇)
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-07 16:17:04" itemprop="dateCreated datePublished" datetime="2019-01-07T16:17:04+08:00">2019-01-07</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/30-seconds-of-code/" itemprop="url" rel="index"><span itemprop="name">30-seconds-of-code</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/01/07/30-seconds-of-code-array/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/2019/01/07/30-seconds-of-code-array/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
            <i class="fa fa-eye"></i>
             阅读次数： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">38k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">35 分钟</span>
              
            </div>
          

          
              <div class="post-description"><div style="text-align:center;"> ٩(๑´0`๑)۶ <br> 每一个代码段都十分精妙，很多地方都让人意想不到，值得你花时间去学习它们。 <br> 言：岁月不饶人，我亦未曾饶过岁月。 </div></div>
          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
        <div class="post-gallery" itemscope="" itemtype="http://schema.org/ImageGallery">
          
          
            <div class="post-gallery-row">
              <a class="post-gallery-img fancybox" href="https://wx4.sinaimg.cn/mw690/e03b4bf9gy1fynd27klgfj212w0go3z6.jpg" rel="gallery_cjs68gqya002oi8uy5ymiy6gw" itemscope="" itemtype="http://schema.org/ImageObject" itemprop="url">
                <img src="https://wx4.sinaimg.cn/mw690/e03b4bf9gy1fynd27klgfj212w0go3z6.jpg" itemprop="contentUrl">
              </a>
            
          

          
          </div>
        </div>
      

      
        <blockquote class="blockquote-center"><h1 id="Array-篇"><a href="#Array-篇" class="headerlink" title="Array 篇"></a>Array 篇</h1><p>© Chirenmeng</p>
</blockquote>
<hr>
<p>本文译自：<a href="https://github.com/30-seconds/30-seconds-of-code" target="_blank" rel="noopener">30-seconds-of-code</a></p>
<h1 id="all"><a href="#all" class="headerlink" title="all"></a>all</h1><p>如果数组中的所有元素执行给定的函数都返回 true，则返回 true，否则返回 false。</p>
<p>使用 Array.prototype.very()遍历数组中的所有元素是否执行 fn 返回 true。如果省略第二个参数 fn，将使用 Boolean 函数作为默认值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> all = <span class="function">(<span class="params">arr, fn = <span class="built_in">Boolean</span></span>) =&gt;</span> arr.every(fn)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">all([<span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>], x =&gt; x &gt; <span class="number">1</span>) <span class="comment">// true</span></span><br><span class="line">all([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h1 id="allEqual"><a href="#allEqual" class="headerlink" title="allEqual"></a>allEqual</h1><p>检查数组中的所有元素是否相等。</p>
<p>使用 Array.prototype.very()检查数组中的所有元素是否与第一个元素相同。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> allEqual = <span class="function"><span class="params">arr</span> =&gt;</span> arr.every(<span class="function"><span class="params">val</span> =&gt;</span> val === arr[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">allEqual([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]) <span class="comment">// false</span></span><br><span class="line">allEqual([<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h1 id="any"><a href="#any" class="headerlink" title="any"></a>any</h1><p>如果数组中至少有一个元素执行给定的函数都返回 true，则返回 true，否则返回 false。</p>
<p>使用 Array.prototype.some()遍历集合中是否有元素调用 fn 返回 true。省略第二个参数 fn，将使用 Boolean 函数作为默认值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> any = <span class="function">(<span class="params">arr, fn = <span class="built_in">Boolean</span></span>) =&gt;</span> arr.some(fn)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">any([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>], x =&gt; x &gt;= <span class="number">2</span>) <span class="comment">// true</span></span><br><span class="line">any([<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>]) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h1 id="arrayToCSV"><a href="#arrayToCSV" class="headerlink" title="arrayToCSV"></a>arrayToCSV</h1><p>将二维数组转换为逗号分隔值(CSV)字符串。</p>
<p>使用 Array.prototype.map()和 Array.prototype.join(delimiter)将单个一维数组(行)组合成字符串。使用 Array.prototype.join(“\n”)将所有行组合成一个 CSV 字符串，用换行符分隔每行。省略第二个参数 delimiter，将使用,作为默认分隔符。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayToCSV = <span class="function">(<span class="params">arr, delimiter = <span class="string">','</span></span>) =&gt;</span></span><br><span class="line">  arr.map(<span class="function"><span class="params">v</span> =&gt;</span> v.map(<span class="function"><span class="params">x</span> =&gt;</span> <span class="string">`"<span class="subst">$&#123;x&#125;</span>"`</span>).join(delimiter)).join(<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">arrayToCSV([[<span class="string">'a'</span>, <span class="string">'b'</span>], [<span class="string">'c'</span>, <span class="string">'d'</span>]]) <span class="comment">// '"a","b"\n"c","d"'</span></span><br><span class="line">arrayToCSV([[<span class="string">'a'</span>, <span class="string">'b'</span>], [<span class="string">'c'</span>, <span class="string">'d'</span>]], <span class="string">';'</span>) <span class="comment">// '"a";"b"\n"c";"d"'</span></span><br></pre></td></tr></table></figure>
<h1 id="bifurcate"><a href="#bifurcate" class="headerlink" title="bifurcate"></a>bifurcate</h1><p>将值分成两组。如果 filter 中的元素是真的，则数组中的相应元素属于第一组；否则，它属于第二组。</p>
<p>使用 Array.prototype.reduce()和 Array.prototype.push()根据 filter 将元素添加到组中。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bifurcate = <span class="function">(<span class="params">arr, filter</span>) =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">acc, val, i</span>) =&gt;</span> (acc[filter[i] ? <span class="number">0</span> : <span class="number">1</span>].push(val), acc), [[], []])</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">bifurcate([<span class="string">'beep'</span>, <span class="string">'boop'</span>, <span class="string">'foo'</span>, <span class="string">'bar'</span>], [<span class="literal">true</span>, <span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">true</span>])</span><br><span class="line"><span class="comment">// [ ['beep', 'boop', 'bar'], ['foo'] ]</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>array.reduce(function(accumulator, currentValue, currentIndex, array), initialValue)；</p>
<p>accumulator：上一次调用回调返回的值，或者是提供的初始值（initialValue）</p>
<p>currentValue：数组中正在处理的元素</p>
<p>currentIndex：数据中正在处理的元素索引，如果提供了 initialValue ，从 0 开始；否则从 1 开始</p>
<p>array： 调用 reduce 的数组</p>
<p>initialValue：可选项，其值用于第一次调用 callback 的第一个参数。如果没有设置初始值，则将数组中的第一个元素作为初始值。空数组调用 reduce 时没有设置初始值将会报错。</p>
</blockquote>
<h1 id="bifurcateBy"><a href="#bifurcateBy" class="headerlink" title="bifurcateBy"></a>bifurcateBy</h1><p>根据给定的函数将值分成两组，该函数可以指定输入数组中的元素属于哪个组。如果函数返回真，则集合元素属于第一组；否则，它属于第二组。</p>
<p>每个元素调用 fn 得到返回值，使用 Array.prototype.reduce()和 Array.prototype.push()将元素添加到组中。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> init = [[], []] <span class="comment">// 便于理解，我这里稍作修改</span></span><br><span class="line"><span class="keyword">const</span> bifurcateBy = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">acc, val, i</span>) =&gt;</span> (acc[fn(val, i) ? <span class="number">0</span> : <span class="number">1</span>].push(val), acc), init)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">bifurcateBy([<span class="string">'beep'</span>, <span class="string">'boop'</span>, <span class="string">'foo'</span>, <span class="string">'bar'</span>], x =&gt; x[<span class="number">0</span>] === <span class="string">'b'</span>)</span><br><span class="line"><span class="comment">// [ ['beep', 'boop', 'bar'], ['foo'] ]</span></span><br></pre></td></tr></table></figure>
<h1 id="chunk"><a href="#chunk" class="headerlink" title="chunk"></a>chunk</h1><p>将数组分成指定长度的多维数组。</p>
<p>使用 Array.from()创建一个新的数组，该数组的长度等于要生成的块的长度。使用 Array.prototype.slice()将新数组的元素映射到一个长度为给定长度的块。如果原数组不能被平均分割，则最后一块将包含剩余的元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chunk = <span class="function">(<span class="params">arr, size</span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: <span class="built_in">Math</span>.ceil(arr.length / size) &#125;, (v, i) =&gt;</span><br><span class="line">    arr.slice(i * size, i * size + size)</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">chunk([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="number">2</span>) <span class="comment">// [[1,2],[3,4],[5]]</span></span><br></pre></td></tr></table></figure>
<h1 id="compact"><a href="#compact" class="headerlink" title="compact"></a>compact</h1><p>从数组中删除无效值。</p>
<p>使用 Array.prototype.filter()过滤掉无效值(false, null, 0, “”, undefined, NaN)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compact = <span class="function"><span class="params">arr</span> =&gt;</span> arr.filter(<span class="built_in">Boolean</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">compact([<span class="number">0</span>, <span class="number">1</span>, <span class="literal">false</span>, <span class="number">2</span>, <span class="string">''</span>, <span class="number">3</span>, <span class="string">'a'</span>, <span class="string">'e'</span> * <span class="number">23</span>, <span class="literal">NaN</span>, <span class="string">'s'</span>, <span class="number">34</span>]) <span class="comment">// [ 1, 2, 3, 'a', 's', 34 ]</span></span><br></pre></td></tr></table></figure>
<h1 id="countBy"><a href="#countBy" class="headerlink" title="countBy"></a>countBy</h1><p>根据给定函数对数组中的元素进行分组，并返回每个组中元素总数。</p>
<p>使用 Array.prototype.map()返回数组元素调用函数或属性后的值。使用 Array.prototype.reduce()创建一个对象，其中键是根据前面的值生成的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> countBy = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr.map(<span class="keyword">typeof</span> fn === <span class="string">'function'</span> ? fn : <span class="function"><span class="params">val</span> =&gt;</span> val[fn]).reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> &#123;</span><br><span class="line">    acc[val] = (acc[val] || <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> acc</span><br><span class="line">  &#125;, &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">countBy([<span class="number">6.1</span>, <span class="number">4.2</span>, <span class="number">6.3</span>], <span class="built_in">Math</span>.floor) <span class="comment">// &#123;4: 1, 6: 2&#125;</span></span><br><span class="line">countBy([<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>], <span class="string">'length'</span>) <span class="comment">// &#123;3: 2, 5: 1&#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="countOccurrences"><a href="#countOccurrences" class="headerlink" title="countOccurrences"></a>countOccurrences</h1><p>计算数组中某个值的出现次数。</p>
<p>使用 Array.prototype.reduce()，每当遇到数组中的特定值时，递增计数器。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> countOccurrences = <span class="function">(<span class="params">arr, val</span>) =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> (v === val ? a + <span class="number">1</span> : a), <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">countOccurrences([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">1</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<h1 id="deepFlatten"><a href="#deepFlatten" class="headerlink" title="deepFlatten"></a>deepFlatten</h1><p>将数组展平。</p>
<p>借助递归。使用 Array.prototype.concat 结合空数组([])和扩展运算符(…)来展平数组。递归展平作用于数组的每个元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> deepFlatten = <span class="function"><span class="params">arr</span> =&gt;</span></span><br><span class="line">  [].concat(...arr.map(<span class="function"><span class="params">v</span> =&gt;</span> (<span class="built_in">Array</span>.isArray(v) ? deepFlatten(v) : v)))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">deepFlatten([<span class="number">1</span>, [<span class="number">2</span>], [[<span class="number">3</span>], <span class="number">4</span>], <span class="number">5</span>]) <span class="comment">// [1,2,3,4,5]</span></span><br></pre></td></tr></table></figure>
<h1 id="difference"><a href="#difference" class="headerlink" title="difference"></a>difference</h1><p>返回两个数组之间的差异。</p>
<p>从 b 创建一个 Set，然后在 a 上使用 Array.prototype.filter()来只保留 b 中不包含的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> difference = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b) <span class="comment">// Set可以用于数组去重</span></span><br><span class="line">  <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> !s.has(x))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">difference([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>]) <span class="comment">// [3]</span></span><br></pre></td></tr></table></figure>
<h1 id="differenceBy"><a href="#differenceBy" class="headerlink" title="differenceBy"></a>differenceBy</h1><p>将给定的函数应用于两个数组的每个数组元素后，返回两个数组之间的差异。</p>
<p>通过对 b 中的每个元素调用 fn 来创建一个 Set，然后将 Array.protototype.filter()和 a 中元素调用 fn 的结果结合使用，只保留先前创建的集合中不包含的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> differenceBy = <span class="function">(<span class="params">a, b, fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b.map(fn))</span><br><span class="line">  <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> !s.has(fn(x)))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">differenceBy([<span class="number">2.1</span>, <span class="number">1.2</span>], [<span class="number">2.3</span>, <span class="number">3.4</span>], <span class="built_in">Math</span>.floor) <span class="comment">// [1.2]</span></span><br><span class="line">differenceBy([&#123; <span class="attr">x</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;], [&#123; <span class="attr">x</span>: <span class="number">1</span> &#125;], v =&gt; v.x) <span class="comment">// [ &#123; x: 2 &#125; ]</span></span><br></pre></td></tr></table></figure>
<h1 id="differenceWith"><a href="#differenceWith" class="headerlink" title="differenceWith"></a>differenceWith</h1><p>过滤得到数组在比较函数中不返回 true 的所有值。</p>
<p>使用 Array.prototype.filter()和 Array.prototype.findindex()查找适当的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> differenceWith = <span class="function">(<span class="params">arr, val, comp</span>) =&gt;</span></span><br><span class="line">  arr.filter(<span class="function"><span class="params">a</span> =&gt;</span> val.findIndex(<span class="function"><span class="params">b</span> =&gt;</span> comp(a, b)) === <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">differenceWith(</span><br><span class="line">  [<span class="number">1</span>, <span class="number">1.2</span>, <span class="number">1.5</span>, <span class="number">3</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">1.9</span>, <span class="number">3</span>, <span class="number">0</span>],</span><br><span class="line">  (a, b) =&gt; <span class="built_in">Math</span>.round(a) === <span class="built_in">Math</span>.round(b)</span><br><span class="line">) <span class="comment">// [1, 1.2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// differenceBy可以做到同样的效果</span></span><br></pre></td></tr></table></figure>
<h1 id="drop"><a href="#drop" class="headerlink" title="drop"></a>drop</h1><p>返回一个从左边移除 n 个元素后的新数组。</p>
<p>使用 Array.prototype.slice()从左侧移除指定数量的元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> drop = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> arr.slice(n)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">drop([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// [2,3]</span></span><br><span class="line">drop([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>) <span class="comment">// [3]</span></span><br><span class="line">drop([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">42</span>) <span class="comment">// []</span></span><br></pre></td></tr></table></figure>
<h1 id="dropRight"><a href="#dropRight" class="headerlink" title="dropRight"></a>dropRight</h1><p>返回一个从右边移除 n 个元素后的新数组。</p>
<p>使用 Array.prototype.slice()从右侧移除指定数量的元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> drop = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> arr.slice(<span class="number">0</span>, -n)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">dropRight([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// [1,2]</span></span><br><span class="line">dropRight([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>) <span class="comment">// [1]</span></span><br><span class="line">dropRight([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">42</span>) <span class="comment">// []</span></span><br></pre></td></tr></table></figure>
<h1 id="dropRightWhile"><a href="#dropRightWhile" class="headerlink" title="dropRightWhile"></a>dropRightWhile</h1><p>从数组末尾移除元素，直到传递的函数返回 true。返回数组中的剩余元素。</p>
<p>使用 Array.protototype.slice()循环数组，直到函数返回值为 true。返回剩余元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dropRightWhile = <span class="function">(<span class="params">arr, func</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (arr.length &gt; <span class="number">0</span> &amp;&amp; !func(arr[arr.length - <span class="number">1</span>])) arr = arr.slice(<span class="number">0</span>, <span class="number">-1</span>)</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">dropRightWhile([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], n =&gt; n &lt; <span class="number">3</span>) <span class="comment">// [1, 2]</span></span><br></pre></td></tr></table></figure>
<h1 id="dropWhile"><a href="#dropWhile" class="headerlink" title="dropWhile"></a>dropWhile</h1><p>从数组开头移除元素，直到传递的函数返回 true。返回数组中的剩余元素。</p>
<p>循环数组，使用 Array.prototype.slice()删除数组的第一个元素，直到函数返回值为 true。返回剩余元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dropWhile = <span class="function">(<span class="params">arr, func</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (arr.length &gt; <span class="number">0</span> &amp;&amp; !func(arr[<span class="number">0</span>])) arr = arr.slice(<span class="number">1</span>)</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">dropWhile([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], n =&gt; n &gt;= <span class="number">3</span>) <span class="comment">// [3,4]</span></span><br></pre></td></tr></table></figure>
<h1 id="everyNth"><a href="#everyNth" class="headerlink" title="everyNth"></a>everyNth</h1><p>返回数组中顺序为 nth 倍数的元素。</p>
<p>使用 Array.prototype.filter()创建一个新数组，该数组包含给定数组中顺序为 nth 倍数的元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> everyNth = <span class="function">(<span class="params">arr, nth</span>) =&gt;</span> arr.filter(<span class="function">(<span class="params">e, i</span>) =&gt;</span> i % nth === nth - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">everyNth([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], <span class="number">2</span>) <span class="comment">// [ 2, 4, 6 ]</span></span><br></pre></td></tr></table></figure>
<h1 id="filterFalsy"><a href="#filterFalsy" class="headerlink" title="filterFalsy"></a>filterFalsy</h1><p>过滤掉数组中的错误值。</p>
<p>使用 array.prototype.filter（）获取只包含 truthy 值的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> filterFalsy = <span class="function"><span class="params">arr</span> =&gt;</span> arr.filter(<span class="built_in">Boolean</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">filterFalsy([<span class="string">''</span>, <span class="literal">true</span>, &#123;&#125;, <span class="literal">false</span>, <span class="string">'sample'</span>, <span class="number">1</span>, <span class="number">0</span>])</span><br><span class="line"><span class="comment">// [true, &#123;&#125;, 'sample', 1]</span></span><br></pre></td></tr></table></figure>
<h1 id="filterNonUnique"><a href="#filterNonUnique" class="headerlink" title="filterNonUnique"></a>filterNonUnique</h1><p>过滤掉数组中的非唯一值。</p>
<p>使用 Array.prototype.filter()创建包含唯一值的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> filterNonUnique = <span class="function"><span class="params">arr</span> =&gt;</span></span><br><span class="line">  arr.filter(<span class="function"><span class="params">i</span> =&gt;</span> arr.indexOf(i) === arr.lastIndexOf(i))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">filterNonUnique([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>]) <span class="comment">// [1, 3, 5]</span></span><br></pre></td></tr></table></figure>
<h1 id="filterNonUniqueBy"><a href="#filterNonUniqueBy" class="headerlink" title="filterNonUniqueBy"></a>filterNonUniqueBy</h1><p>基于提供的比较器函数过滤掉数组中的非唯一值。</p>
<p>基于比较器函数 fn，对只包含唯一值的数组使用 Array.prototype.filter()和 Array. prototype.every()。比较器函数接受四个参数：两个被比较元素的值及其索引。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> filterNonUniqueBy = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr.filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> arr.every(<span class="function">(<span class="params">x, j</span>) =&gt;</span> (i === j) === fn(v, x, i, j)))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">filterNonUniqueBy(</span><br><span class="line">  [</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">0</span>, <span class="attr">value</span>: <span class="string">'a'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">value</span>: <span class="string">'b'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">value</span>: <span class="string">'c'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">value</span>: <span class="string">'d'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">0</span>, <span class="attr">value</span>: <span class="string">'e'</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  (a, b) =&gt; a.id == b.id</span><br><span class="line">) <span class="comment">// [ &#123; id: 2, value: 'c' &#125; ]</span></span><br></pre></td></tr></table></figure>
<h1 id="findLast"><a href="#findLast" class="headerlink" title="findLast"></a>findLast</h1><p>返回调用所给函数返回真值的最后一个元素。</p>
<p>使用 Array.prototype.filter()过滤 fn 返回假值的元素，使用 Array.prototype.pop()获取最后一个元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> findLast = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span> arr.filter(fn).pop()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">findLast([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], n =&gt; n % <span class="number">2</span> === <span class="number">1</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<h1 id="findLastIndex"><a href="#findLastIndex" class="headerlink" title="findLastIndex"></a>findLastIndex</h1><p>返回调用所给函数返回真值的最后一个元素的索引。</p>
<p>使用 Array.prototype.map()将每个元素与其索引和值映射到一个数组。使用 Array.prototype.filter()过滤 fn 返回假值的元素，使用 Array.prototype.pop()获取最后一个元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> findLastIndex = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr</span><br><span class="line">    .map(<span class="function">(<span class="params">val, i</span>) =&gt;</span> [i, val])</span><br><span class="line">    .filter(<span class="function">(<span class="params">[i, val]</span>) =&gt;</span> fn(val, i, arr))</span><br><span class="line">    .pop()[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">findLastIndex([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], n =&gt; n % <span class="number">2</span> === <span class="number">1</span>) <span class="comment">// 2 (index of the value 3)</span></span><br></pre></td></tr></table></figure>
<h1 id="flatten"><a href="#flatten" class="headerlink" title="flatten"></a>flatten</h1><p>将数组展平到指定的深度。</p>
<p>使用递归，对于每一深度级别，深度递减 1。使用 Array.prototype.reduce()和 Array.prototype.concat()合并元素或数组。一般情况下，如果深度等于 1 则停止递归。省略第二个参数，depth 仅展平到深度 1 (单个展平)。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flatten = <span class="function">(<span class="params">arr, depth = <span class="number">1</span></span>) =&gt;</span></span><br><span class="line">  arr.reduce(</span><br><span class="line">    (a, v) =&gt;</span><br><span class="line">      a.concat(depth &gt; <span class="number">1</span> &amp;&amp; <span class="built_in">Array</span>.isArray(v) ? flatten(v, depth - <span class="number">1</span>) : v),</span><br><span class="line">    []</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">flatten([<span class="number">1</span>, [<span class="number">2</span>], <span class="number">3</span>, <span class="number">4</span>]) <span class="comment">// [1, 2, 3, 4]</span></span><br><span class="line">flatten([<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>], <span class="number">6</span>], <span class="number">7</span>], <span class="number">8</span>], <span class="number">2</span>) <span class="comment">// [1, 2, 3, [4, 5], 6, 7, 8]</span></span><br></pre></td></tr></table></figure>
<h1 id="forEachRight"><a href="#forEachRight" class="headerlink" title="forEachRight"></a>forEachRight</h1><p>从数组的最后一个元素开始，为每个数组元素执行给定的函数。</p>
<p>使用 Array.protototype.slice(0)克隆给定的数组，使用 Array.protototype.reverse()反转数组，使用 Array.protototype.foreach()循环反向数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> forEachRight = <span class="function">(<span class="params">arr, callback</span>) =&gt;</span></span><br><span class="line">  arr</span><br><span class="line">    .slice(<span class="number">0</span>)</span><br><span class="line">    .reverse()</span><br><span class="line">    .forEach(callback)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">forEachRight([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], val =&gt; <span class="built_in">console</span>.log(val)) <span class="comment">// '4', '3', '2', '1'</span></span><br></pre></td></tr></table></figure>
<h1 id="groupBy"><a href="#groupBy" class="headerlink" title="groupBy"></a>groupBy</h1><p>根据给定函数对数组元素进行分组。</p>
<p>使用 Array.prototype.map()对数组元素调用到函数或属性。使用 Array.protototype.reduce()创建一个对象，其中的键是根据前面结果生成的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> groupBy = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr</span><br><span class="line">    .map(<span class="keyword">typeof</span> fn === <span class="string">'function'</span> ? fn : <span class="function"><span class="params">val</span> =&gt;</span> val[fn])</span><br><span class="line">    .reduce(<span class="function">(<span class="params">acc, val, i</span>) =&gt;</span> &#123;</span><br><span class="line">      acc[val] = (acc[val] || []).concat(arr[i])</span><br><span class="line">      <span class="keyword">return</span> acc</span><br><span class="line">    &#125;, &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">groupBy([<span class="number">6.1</span>, <span class="number">4.2</span>, <span class="number">6.3</span>], <span class="built_in">Math</span>.floor) <span class="comment">// &#123;4: [4.2], 6: [6.1, 6.3]&#125;</span></span><br><span class="line">groupBy([<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>], <span class="string">'length'</span>) <span class="comment">// &#123;3: ['one', 'two'], 5: ['three']&#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="head"><a href="#head" class="headerlink" title="head"></a>head</h1><p>返回数组的第一个元素。</p>
<p>使用 arr[0]返回数组的第一个元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> head = <span class="function"><span class="params">arr</span> =&gt;</span> arr[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">head([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h1 id="indexOfAll"><a href="#indexOfAll" class="headerlink" title="indexOfAll"></a>indexOfAll</h1><p>返回数组中 val 出现的所有索引。如果 val 从未出现，返回[]。</p>
<p>使用 Array.prototype.reduce()循环元素并存储匹配元素的索引。返回索引数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> indexOfAll = <span class="function">(<span class="params">arr, val</span>) =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">acc, el, i</span>) =&gt;</span> (el === val ? [...acc, i] : acc), [])</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">indexOfAll([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">1</span>) <span class="comment">// [0,3]</span></span><br><span class="line">indexOfAll([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>) <span class="comment">// []</span></span><br></pre></td></tr></table></figure>
<h1 id="initial"><a href="#initial" class="headerlink" title="initial"></a>initial</h1><p>返回数组除了最后一个以外的所有元素。</p>
<p>使用 arr.slice(0, -1)来返回除最后一个元素以外的所有元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initial = <span class="function"><span class="params">arr</span> =&gt;</span> arr.slice(<span class="number">0</span>, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">initial([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// [1,2]</span></span><br></pre></td></tr></table></figure>
<h1 id="initialize2DArray"><a href="#initialize2DArray" class="headerlink" title="initialize2DArray"></a>initialize2DArray</h1><p>生成指定行列和值的二维数组。</p>
<p>使用 Array.prototype.map()生成 h 行长度为 w 并填入值的数组。如果没有给定值，则默认为 null。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initialize2DArray = <span class="function">(<span class="params">w, h, val = <span class="literal">null</span></span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: h &#125;).map(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: w &#125;).fill(val))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">initialize2DArray(<span class="number">2</span>, <span class="number">2</span>, <span class="number">0</span>) <span class="comment">// [[0,0], [0,0]]</span></span><br></pre></td></tr></table></figure>
<h1 id="initializeArrayWithRange"><a href="#initializeArrayWithRange" class="headerlink" title="initializeArrayWithRange"></a>initializeArrayWithRange</h1><p>初始化一个数组，该数组包含指定范围内的数字，并且按照指定步长递增。</p>
<p>使用 Array.from()创建所需长度的数组(结束-开始+1)/步长，并在给定范围内用所需值填充数组。可以省略开始值默认是 0。也可以省略步长来使用默认值 1。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeArrayWithRange = <span class="function">(<span class="params">end, start = <span class="number">0</span>, step = <span class="number">1</span></span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(</span><br><span class="line">    &#123; <span class="attr">length</span>: <span class="built_in">Math</span>.ceil((end - start + <span class="number">1</span>) / step) &#125;,</span><br><span class="line">    (v, i) =&gt; i * step + start</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">initializeArrayWithRange(<span class="number">5</span>) <span class="comment">// [0,1,2,3,4,5]</span></span><br><span class="line">initializeArrayWithRange(<span class="number">7</span>, <span class="number">3</span>) <span class="comment">// [3,4,5,6,7]</span></span><br><span class="line">initializeArrayWithRange(<span class="number">9</span>, <span class="number">0</span>, <span class="number">2</span>) <span class="comment">// [0,2,4,6,8]</span></span><br></pre></td></tr></table></figure>
<h1 id="initializeArrayWithRangeRight"><a href="#initializeArrayWithRangeRight" class="headerlink" title="initializeArrayWithRangeRight"></a>initializeArrayWithRangeRight</h1><p>初始化一个数组，该数组包含指定范围内的数字（反向），并且按照指定步长递减。</p>
<p>使用 Array.from(Math.ceil((end+1-start)/step))创建所需长度的数组(长度等于(结束-开始)/步长或(结束+1-开始)/步长 (包含结束))，并在给定范围内用所需值填充数组。可以省略开始值默认是 0。也可以省略步长来使用默认值 1。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeArrayWithRangeRight = <span class="function">(<span class="params">end, start = <span class="number">0</span>, step = <span class="number">1</span></span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: <span class="built_in">Math</span>.ceil((end + <span class="number">1</span> - start) / step) &#125;).map(</span><br><span class="line">    (v, i, arr) =&gt; (arr.length - i - <span class="number">1</span>) * step + start</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">initializeArrayWithRangeRight(<span class="number">5</span>) <span class="comment">// [5,4,3,2,1,0]</span></span><br><span class="line">initializeArrayWithRangeRight(<span class="number">7</span>, <span class="number">3</span>) <span class="comment">// [7,6,5,4,3]</span></span><br><span class="line">initializeArrayWithRangeRight(<span class="number">9</span>, <span class="number">0</span>, <span class="number">2</span>) <span class="comment">// [8,6,4,2,0]</span></span><br></pre></td></tr></table></figure>
<h1 id="initializeArrayWithValues"><a href="#initializeArrayWithValues" class="headerlink" title="initializeArrayWithValues"></a>initializeArrayWithValues</h1><p>用指定的值初始化并填充数组。</p>
<p>使用 Array(n)创建所需长度的数组，用 fill(v) 根据所需值填充数组(v)。你可以省略 val 来使用默认值 0。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeArrayWithValues = <span class="function">(<span class="params">n, val = <span class="number">0</span></span>) =&gt;</span> <span class="built_in">Array</span>(n).fill(val)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">initializeArrayWithValues(<span class="number">5</span>, <span class="number">2</span>) <span class="comment">// [2, 2, 2, 2, 2]</span></span><br></pre></td></tr></table></figure>
<h1 id="initializeNDArray"><a href="#initializeNDArray" class="headerlink" title="initializeNDArray"></a>initializeNDArray</h1><p>创建具有给定值的 n 维数组。</p>
<p>使用递归。用 Array.prototype.map()生成行数组，其中每一行都是使用 initializendaray 初始化的新数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeNDArray = <span class="function">(<span class="params">val, ...args</span>) =&gt;</span></span><br><span class="line">  args.length === <span class="number">0</span></span><br><span class="line">    ? val</span><br><span class="line">    : <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: args[<span class="number">0</span>] &#125;).map(<span class="function"><span class="params">()</span> =&gt;</span></span><br><span class="line">        initializeNDArray(val, ...args.slice(<span class="number">1</span>))</span><br><span class="line">      )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">initializeNDArray(<span class="number">1</span>, <span class="number">3</span>) <span class="comment">// [1,1,1]</span></span><br><span class="line">initializeNDArray(<span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>) <span class="comment">// [[[5,5],[5,5]],[[5,5],[5,5]]]</span></span><br></pre></td></tr></table></figure>
<h1 id="intersection"><a href="#intersection" class="headerlink" title="intersection"></a>intersection</h1><p>返回两个数组中都存在的元素数组。</p>
<p>从 b 创建一个集合，然后在 a 上使用 Array.prototype.filter()来只保留 b 中包含的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> intersection = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b)</span><br><span class="line">  <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> s.has(x))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">intersection([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>]) <span class="comment">// [2, 3]</span></span><br></pre></td></tr></table></figure>
<h1 id="intersectionBy"><a href="#intersectionBy" class="headerlink" title="intersectionBy"></a>intersectionBy</h1><p>将给定的函数应用于两个数组中的每个数组元素后，返回执行函数后第一个数组和第二个数组中相同的值。</p>
<p>b 中的所有元素执行 fn 后创建一个集合，然后在 a 上使用 Array.prototype.filter()来保留将执行 fn 后结果在 b 中的元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> intersectionBy = <span class="function">(<span class="params">a, b, fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b.map(fn))</span><br><span class="line">  <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> s.has(fn(x)))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">intersectionBy([<span class="number">2.1</span>, <span class="number">1.2</span>], [<span class="number">2.3</span>, <span class="number">3.4</span>], <span class="built_in">Math</span>.floor) <span class="comment">// [2.1]</span></span><br></pre></td></tr></table></figure>
<h1 id="intersectionWith"><a href="#intersectionWith" class="headerlink" title="intersectionWith"></a>intersectionWith</h1><p>使用给定的函数返回两个数组中都通过的元素数组。</p>
<p>使用 Array.prototype.filter()和 Array.prototype.findindex()与所提供的函数结合使用来确定公共值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> intersectionWith = <span class="function">(<span class="params">a, b, comp</span>) =&gt;</span></span><br><span class="line">  a.filter(<span class="function"><span class="params">x</span> =&gt;</span> b.findIndex(<span class="function"><span class="params">y</span> =&gt;</span> comp(x, y)) !== <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">intersectionWith(</span><br><span class="line">  [<span class="number">1</span>, <span class="number">1.2</span>, <span class="number">1.5</span>, <span class="number">3</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">1.9</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">3.9</span>],</span><br><span class="line">  (a, b) =&gt; <span class="built_in">Math</span>.round(a) === <span class="built_in">Math</span>.round(b)</span><br><span class="line">) <span class="comment">// [1.5, 3, 0]</span></span><br></pre></td></tr></table></figure>
<h1 id="isSorted"><a href="#isSorted" class="headerlink" title="isSorted"></a>isSorted</h1><p>如果数组按升序排序，则返回 1；如果数组按降序排序，则返回-1；如果数组未排序，则返回 0。</p>
<p>计算前两个元素的排序方向。使用 Object.entries()循环数组元素并成对比较它们。如果方向改变，返回 0；如果到达最后一个元素，返回排序方向。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isSorted = <span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> direction = -(arr[<span class="number">0</span>] - arr[<span class="number">1</span>])</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> [i, val] <span class="keyword">of</span> arr.entries()) &#123;</span><br><span class="line">    direction = !direction ? -(arr[i - <span class="number">1</span>] - arr[i]) : direction</span><br><span class="line">    <span class="keyword">if</span> (i === arr.length - <span class="number">1</span>) <span class="keyword">return</span> !direction ? <span class="number">0</span> : direction</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((val - arr[i + <span class="number">1</span>]) * direction &gt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">isSorted([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>]) <span class="comment">// 1</span></span><br><span class="line">isSorted([<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>]) <span class="comment">// -1</span></span><br><span class="line">isSorted([<span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>]) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<h1 id="join"><a href="#join" class="headerlink" title="join"></a>join</h1><p>将数组中的所有元素连接成一个字符串并返回该字符串。使用起始分隔符和末端分隔符。</p>
<p>使用 Array.prototype.reduce()将元素组合成一个字符串。省略第二个参数 separator 时，将使用,作为默认分隔符。省略第三个参数 end 时，默认情况下使用与 separator 相同的值分隔。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> join = <span class="function">(<span class="params">arr, separator = <span class="string">','</span>, end = separator</span>) =&gt;</span></span><br><span class="line">  arr.reduce(</span><br><span class="line">    (acc, val, i) =&gt;</span><br><span class="line">      i === arr.length - <span class="number">2</span></span><br><span class="line">        ? acc + val + end</span><br><span class="line">        : i === arr.length - <span class="number">1</span></span><br><span class="line">        ? acc + val</span><br><span class="line">        : acc + val + separator,</span><br><span class="line">    <span class="string">''</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">join([<span class="string">'pen'</span>, <span class="string">'pineapple'</span>, <span class="string">'apple'</span>, <span class="string">'pen'</span>], <span class="string">','</span>, <span class="string">'&amp;'</span>) <span class="comment">// "pen,pineapple,apple&amp;pen"</span></span><br><span class="line">join([<span class="string">'pen'</span>, <span class="string">'pineapple'</span>, <span class="string">'apple'</span>, <span class="string">'pen'</span>], <span class="string">','</span>) <span class="comment">// "pen,pineapple,apple,pen"</span></span><br><span class="line">join([<span class="string">'pen'</span>, <span class="string">'pineapple'</span>, <span class="string">'apple'</span>, <span class="string">'pen'</span>]) <span class="comment">// "pen,pineapple,apple,pen"</span></span><br></pre></td></tr></table></figure>
<h1 id="JSONtoCSV"><a href="#JSONtoCSV" class="headerlink" title="JSONtoCSV"></a>JSONtoCSV</h1><p>将对象数组转换为仅包含指定 columns 的逗号分隔值(CSV)字符串。</p>
<p>使用 Array.prototype.join(分隔符)将 columns 中的所有名称组合起来，创建第一行。使用 Array.prototype.map()和 Array.prototype.reduce()为每个对象创建一行，用空字符串替换不存在的值，只映射 columns 中的值。使用 Array.prototype.join(‘\n’)将所有行组合成一个字符串。省略第三个参数 delimiter，将会使用默认分隔符,。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> JSONtoCSV = <span class="function">(<span class="params">arr, columns, delimiter = <span class="string">','</span></span>) =&gt;</span></span><br><span class="line">  [</span><br><span class="line">    columns.join(delimiter),</span><br><span class="line">    ...arr.map(<span class="function"><span class="params">obj</span> =&gt;</span></span><br><span class="line">      columns.reduce(</span><br><span class="line">        (acc, key) =&gt;</span><br><span class="line">          <span class="string">`<span class="subst">$&#123;acc&#125;</span><span class="subst">$&#123;!acc.length ? <span class="string">''</span> : delimiter&#125;</span>"<span class="subst">$&#123;!obj[key] ? <span class="string">''</span> : obj[key]&#125;</span>"`</span>,</span><br><span class="line">        <span class="string">''</span></span><br><span class="line">      )</span><br><span class="line">    )</span><br><span class="line">  ].join(<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">JSONtoCSV(</span><br><span class="line">  [&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">a</span>: <span class="number">3</span>, <span class="attr">b</span>: <span class="number">4</span>, <span class="attr">c</span>: <span class="number">5</span> &#125;, &#123; <span class="attr">a</span>: <span class="number">6</span> &#125;, &#123; <span class="attr">b</span>: <span class="number">7</span> &#125;],</span><br><span class="line">  [<span class="string">'a'</span>, <span class="string">'b'</span>]</span><br><span class="line">) <span class="comment">// 'a,b\n"1","2"\n"3","4"\n"6",""\n"","7"'</span></span><br><span class="line">JSONtoCSV(</span><br><span class="line">  [&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">a</span>: <span class="number">3</span>, <span class="attr">b</span>: <span class="number">4</span>, <span class="attr">c</span>: <span class="number">5</span> &#125;, &#123; <span class="attr">a</span>: <span class="number">6</span> &#125;, &#123; <span class="attr">b</span>: <span class="number">7</span> &#125;],</span><br><span class="line">  [<span class="string">'a'</span>, <span class="string">'b'</span>],</span><br><span class="line">  <span class="string">';'</span></span><br><span class="line">) <span class="comment">// 'a;b\n"1";"2"\n"3";"4"\n"6";""\n"";"7"'</span></span><br></pre></td></tr></table></figure>
<h1 id="last"><a href="#last" class="headerlink" title="last"></a>last</h1><p>返回数组中最后一个元素。</p>
<p>使用 arr.length - 1 计算给定数组的最后一个元素的索引并返回它。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> last = <span class="function"><span class="params">arr</span> =&gt;</span> arr[arr.length - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">last([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<h1 id="longestItem"><a href="#longestItem" class="headerlink" title="longestItem"></a>longestItem</h1><p>获取任意数量的可迭代对象或具有 length 属性的对象，并返回最长的对象。如果多个对象具有相同的长度，则将返回第一个对象。如果未提供参数，则返回 undefined。</p>
<p>使用 Array.prototype.reduce()，比较对象的长度以找到最长的对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> longestItem = <span class="function">(<span class="params">...vals</span>) =&gt;</span></span><br><span class="line">  vals.reduce(<span class="function">(<span class="params">a, x</span>) =&gt;</span> (x.length &gt; a.length ? x : a))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">longestItem(<span class="string">'this'</span>, <span class="string">'is'</span>, <span class="string">'a'</span>, <span class="string">'testcase'</span>) <span class="comment">// 'testcase'</span></span><br><span class="line">longestItem(...[<span class="string">'a'</span>, <span class="string">'ab'</span>, <span class="string">'abc'</span>]) <span class="comment">// 'abc'</span></span><br><span class="line">longestItem(...[<span class="string">'a'</span>, <span class="string">'ab'</span>, <span class="string">'abc'</span>], <span class="string">'abcd'</span>) <span class="comment">// 'abcd'</span></span><br><span class="line">longestItem([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]) <span class="comment">// [1, 2, 3, 4, 5]</span></span><br><span class="line">longestItem([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="string">'foobar'</span>) <span class="comment">// 'foobar'</span></span><br></pre></td></tr></table></figure>
<h1 id="mapObject"><a href="#mapObject" class="headerlink" title="mapObject"></a>mapObject</h1><p>使用函数将数组的值映射到对象，其中键值对使用原始值作为键和计算后的映射值。</p>
<p>使用匿名内部函数声明未定义的内存空间，使用闭包存储返回值。使用一个新数组存储数组，新数组包含函数在传入数组上的映射，并使用逗号运算符返回第二步，而无需从一个上下文移动到另一个上下文(由于闭包和操作顺序)。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapObject = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  (<span class="function"><span class="params">a</span> =&gt;</span> (</span><br><span class="line">    (a = [arr, arr.map(fn)]),</span><br><span class="line">    a[<span class="number">0</span>].reduce(<span class="function">(<span class="params">acc, val, ind</span>) =&gt;</span> ((acc[val] = a[<span class="number">1</span>][ind]), acc), &#123;&#125;)</span><br><span class="line">  ))()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line"><span class="keyword">const</span> squareIt = <span class="function"><span class="params">arr</span> =&gt;</span> mapObject(arr, a =&gt; a * a)</span><br><span class="line">squareIt([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// &#123; 1: 1, 2: 4, 3: 9 &#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="maxN"><a href="#maxN" class="headerlink" title="maxN"></a>maxN</h1><p>从提供的数组中返回 n 个最大的元素。如果 n 大于或等于提供的数组长度，则返回原始数组(按降序排序)。</p>
<p>将 Array.prototype.sort()与扩展运算符(…)结合使用浅拷贝数组并按降序排序。使用 Array.prototype.slice()获取指定数量的元素。省略第二个参数 n，得到只有一个元素的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> maxN = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> [...arr].sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> b - a).slice(<span class="number">0</span>, n)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">maxN([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// [3]</span></span><br><span class="line">maxN([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>) <span class="comment">// [3,2]</span></span><br></pre></td></tr></table></figure>
<h1 id="minN"><a href="#minN" class="headerlink" title="minN"></a>minN</h1><p>从提供的数组中返回 n 个最小的元素。如果 n 大于或等于提供的数组长度，则返回原始数组(按升序排序)。</p>
<p>将 Array.prototype.sort()与扩展运算符(…)结合使用浅拷贝数组并按升序排序。使用 Array.prototype.slice()获取指定数量的元素。省略第二个参数 n，得到只有一个元素的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> minN = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> [...arr].sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b).slice(<span class="number">0</span>, n)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">minN([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// [1]</span></span><br><span class="line">minN([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>) <span class="comment">// [1,2]</span></span><br></pre></td></tr></table></figure>
<h1 id="none"><a href="#none" class="headerlink" title="none"></a>none</h1><p>如果集合中的所有元素执行给定的函数后都返回 false，则返回 true，否则返回 false。</p>
<p>使用 Array.prototype.some()测试集合中的任何元素是否基于 fn 返回 true。省略第二个参数 fn，将使用 Boolean 作为默认值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> none = <span class="function">(<span class="params">arr, fn = <span class="built_in">Boolean</span></span>) =&gt;</span> !arr.some(fn)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">none([<span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>], x =&gt; x == <span class="number">2</span>) <span class="comment">// true</span></span><br><span class="line">none([<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h1 id="nthElement"><a href="#nthElement" class="headerlink" title="nthElement"></a>nthElement</h1><p>返回数组的第 n 个元素。</p>
<p>使用 Array.prototype.slice()首先获得包含第 n 个元素的数组。如果索引超出范围，则返回 undefined。省略第二个参数 n，取数组的第一个元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">onst nthElement = <span class="function">(<span class="params">arr, n = <span class="number">0</span></span>) =&gt;</span> (n === <span class="number">-1</span> ? arr.slice(n) : arr.slice(n, n + <span class="number">1</span>))[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">nthElement([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>], <span class="number">1</span>); <span class="comment">// 'b'</span></span><br><span class="line">nthElement([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'b'</span>], <span class="number">-3</span>); <span class="comment">// 'a'</span></span><br></pre></td></tr></table></figure>
<h1 id="offset"><a href="#offset" class="headerlink" title="offset"></a>offset</h1><p>将指定数量的元素移动到数组的末尾或头部。</p>
<p>使用两次 Array.prototype.slice()获得指定索引之后的元素和指定索引之前的元素。使用扩展运算符(…)将两者组合成一个数组。如果 offset 为负数，则元素将从尾部移动到头部。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> offset = <span class="function">(<span class="params">arr, offset</span>) =&gt;</span> [...arr.slice(offset), ...arr.slice(<span class="number">0</span>, offset)]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">offset([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="number">2</span>) <span class="comment">// [3, 4, 5, 1, 2]</span></span><br><span class="line">offset([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], <span class="number">-2</span>) <span class="comment">// [4, 5, 1, 2, 3]</span></span><br></pre></td></tr></table></figure>
<h1 id="partition"><a href="#partition" class="headerlink" title="partition"></a>partition</h1><p>根据每个元素执行函数后返回的布尔值，将元素分成两类数组。</p>
<p>使用 Array.prototype.reduce()创建一个由两个数组组成的数组。使用 Array.prototype.push()将 fn 返回 true 的元素添加到第一个数组，将 fn 返回 false 的元素添加到第二个数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> partition = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr.reduce(</span><br><span class="line">    (acc, val, i, arr) =&gt; &#123;</span><br><span class="line">      acc[fn(val, i, arr) ? <span class="number">0</span> : <span class="number">1</span>].push(val)</span><br><span class="line">      <span class="keyword">return</span> acc</span><br><span class="line">    &#125;,</span><br><span class="line">    [[], []]</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line"><span class="keyword">const</span> users = [</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">'barney'</span>, <span class="attr">age</span>: <span class="number">36</span>, <span class="attr">active</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">'fred'</span>, <span class="attr">age</span>: <span class="number">40</span>, <span class="attr">active</span>: <span class="literal">true</span> &#125;</span><br><span class="line">]</span><br><span class="line">partition(users, o =&gt; o.active)[</span><br><span class="line">  <span class="comment">// ([&#123; user: 'fred', age: 40, active: true &#125;],</span></span><br><span class="line">  <span class="comment">// [&#123; user: 'barney', age: 36, active: false &#125;])</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h1 id="permutations"><a href="#permutations" class="headerlink" title="permutations"></a>permutations</h1><p>警告：这个函数的执行时间随着数组元素的增加呈指数增长。当浏览器试图计算所有不同的组合时，超过 8 到 10 个条目都会导致浏览器挂起。</p>
<p>生成数组元素的所有组合(包含重复元素)。</p>
<p>使用递归。对给定数组中进行元素遍历，为剩余元素创建所有的组合。使用 Array.prototype.map()将该元素与剩余部分排列组合起来，然后使用 Array.prototype.reduce()将所有排列组合成一个数组。一般情况是数组长度为 2 或 1。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> permutations = <span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (arr.length &lt;= <span class="number">2</span>) <span class="keyword">return</span> arr.length === <span class="number">2</span> ? [arr, [arr[<span class="number">1</span>], arr[<span class="number">0</span>]]] : arr</span><br><span class="line">  <span class="keyword">return</span> arr.reduce(</span><br><span class="line">    (acc, item, i) =&gt;</span><br><span class="line">      acc.concat(</span><br><span class="line">        permutations([...arr.slice(<span class="number">0</span>, i), ...arr.slice(i + <span class="number">1</span>)]).map(<span class="function"><span class="params">val</span> =&gt;</span> [</span><br><span class="line">          item,</span><br><span class="line">          ...val</span><br><span class="line">        ])</span><br><span class="line">      ),</span><br><span class="line">    []</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">permutations([<span class="number">1</span>, <span class="number">33</span>, <span class="number">5</span>])</span><br><span class="line"><span class="comment">// [[1, 33, 5], [1, 5, 33], [33, 1, 5], [33, 5, 1], [5, 1, 33], [5, 33, 1]]</span></span><br></pre></td></tr></table></figure>
<h1 id="pull"><a href="#pull" class="headerlink" title="pull"></a>pull</h1><p>变异原数组以过滤掉指定的值。</p>
<p>使用 Array.prototype.filter()和 Array.prototype.include()提取不需要的值。使用 Array.protototype.length = 0 将将数组的长度重置为零来对数组中传递的值进行变异，并使用 Array.prototype.push()重新填充该值。</p>
<p>(对于不改变原始数组的代码片段，请参见 without)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pull = <span class="function">(<span class="params">arr, ...args</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> argState = <span class="built_in">Array</span>.isArray(args[<span class="number">0</span>]) ? args[<span class="number">0</span>] : args</span><br><span class="line">  <span class="keyword">let</span> pulled = arr.filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> !argState.includes(v))</span><br><span class="line">  arr.length = <span class="number">0</span></span><br><span class="line">  pulled.forEach(<span class="function"><span class="params">v</span> =&gt;</span> arr.push(v))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line"><span class="keyword">let</span> myArray = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line">pull(myArray, <span class="string">'a'</span>, <span class="string">'c'</span>) <span class="comment">// myArray = [ 'b', 'b' ]</span></span><br></pre></td></tr></table></figure>
<h1 id="pullAtIndex"><a href="#pullAtIndex" class="headerlink" title="pullAtIndex"></a>pullAtIndex</h1><p>变异原数组以筛选出指定索引处的值。</p>
<p>使用 Array.prototype.filter()和 Array.prototype.include()提取不需要的值。使用 Array.protototype.length = 0 将数组的长度重置为零来对数组中传递的值进行变异，并使用 Array.prototype.push()重新填充该值。使用 Array.prototype.push()来跟踪所提取的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pullAtIndex = <span class="function">(<span class="params">arr, pullArr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> removed = []</span><br><span class="line">  <span class="keyword">let</span> pulled = arr</span><br><span class="line">    .map(<span class="function">(<span class="params">v, i</span>) =&gt;</span> (pullArr.includes(i) ? removed.push(v) : v))</span><br><span class="line">    .filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> !pullArr.includes(i))</span><br><span class="line">  arr.length = <span class="number">0</span></span><br><span class="line">  pulled.forEach(<span class="function"><span class="params">v</span> =&gt;</span> arr.push(v))</span><br><span class="line">  <span class="keyword">return</span> removed</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line"><span class="keyword">let</span> myArray = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>]</span><br><span class="line"><span class="keyword">let</span> pulled = pullAtIndex(myArray, [<span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line"><span class="comment">// myArray = [ 'a', 'c' ] , pulled = [ 'b', 'd' ]</span></span><br></pre></td></tr></table></figure>
<h1 id="pullAtValue"><a href="#pullAtValue" class="headerlink" title="pullAtValue"></a>pullAtValue</h1><p>变异原数组以过滤掉指定的值。返回删除的元素。</p>
<p>使用 Array.prototype.filter()和 Array.prototype.include()提取不需要的值。使用 Array.protototype.length = 0 将数组的长度重置为零来对数组中传递的值进行变异，并使用 Array.prototype.push()重新填充该值。使用 Array.prototype.push()来跟踪所提取的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pullAtValue = <span class="function">(<span class="params">arr, pullArr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> removed = [],</span><br><span class="line">    pushToRemove = arr.forEach(<span class="function">(<span class="params">v, i</span>) =&gt;</span></span><br><span class="line">      pullArr.includes(v) ? removed.push(v) : v</span><br><span class="line">    ),</span><br><span class="line">    mutateTo = arr.filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> !pullArr.includes(v))</span><br><span class="line">  arr.length = <span class="number">0</span></span><br><span class="line">  mutateTo.forEach(<span class="function"><span class="params">v</span> =&gt;</span> arr.push(v))</span><br><span class="line">  <span class="keyword">return</span> removed</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line"><span class="keyword">let</span> myArray = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>]</span><br><span class="line"><span class="keyword">let</span> pulled = pullAtValue(myArray, [<span class="string">'b'</span>, <span class="string">'d'</span>])</span><br><span class="line"><span class="comment">// myArray = [ 'a', 'c' ] , pulled = [ 'b', 'd' ]</span></span><br></pre></td></tr></table></figure>
<h1 id="pullBy"><a href="#pullBy" class="headerlink" title="pullBy"></a>pullBy</h1><p>基于给定的迭代函数，对原始数组进行变异以过滤掉指定的值。</p>
<p>检查函数中是否提供了最后一个参数。使用 Array.prototype.map()将迭代函数 fn 应用于所有数组元素。使用 Array.prototype.filter()和 Array.prototype.include()提取不需要的值。使用 Array.protototype.length = 0 将数组的长度重置为零来对数组中传递的值进行变异，并使用 Array.prototype.push()重新填充该值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pullBy = <span class="function">(<span class="params">arr, ...args</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> length = args.length</span><br><span class="line">  <span class="keyword">let</span> fn = length &gt; <span class="number">1</span> ? args[length - <span class="number">1</span>] : <span class="literal">undefined</span></span><br><span class="line">  fn = <span class="keyword">typeof</span> fn == <span class="string">'function'</span> ? (args.pop(), fn) : <span class="literal">undefined</span></span><br><span class="line">  <span class="keyword">let</span> argState = (<span class="built_in">Array</span>.isArray(args[<span class="number">0</span>]) ? args[<span class="number">0</span>] : args).map(<span class="function"><span class="params">val</span> =&gt;</span> fn(val))</span><br><span class="line">  <span class="keyword">let</span> pulled = arr.filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> !argState.includes(fn(v)))</span><br><span class="line">  arr.length = <span class="number">0</span></span><br><span class="line">  pulled.forEach(<span class="function"><span class="params">v</span> =&gt;</span> arr.push(v))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line"><span class="keyword">var</span> myArray = [&#123; <span class="attr">x</span>: <span class="number">1</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">3</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;]</span><br><span class="line">pullBy(myArray, [&#123; <span class="attr">x</span>: <span class="number">1</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">3</span> &#125;], o =&gt; o.x) <span class="comment">// myArray = [&#123; x: 2 &#125;]</span></span><br></pre></td></tr></table></figure>
<h1 id="reducedFilter"><a href="#reducedFilter" class="headerlink" title="reducedFilter"></a>reducedFilter</h1><p>基于条件过滤对象数组，同时过滤掉未指定的键。</p>
<p>使用 Array.prototype.filter()根据函数 fn 过滤数组，返回满足条件的对象。在过滤后的数组上，使用 Array.prototype.map()返回新对象，使用 Array.prototype.reduce()过滤掉未作为键参数提供的键。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reducedFilter = <span class="function">(<span class="params">data, keys, fn</span>) =&gt;</span></span><br><span class="line">  data.filter(fn).map(<span class="function"><span class="params">el</span> =&gt;</span></span><br><span class="line">    keys.reduce(<span class="function">(<span class="params">acc, key</span>) =&gt;</span> &#123;</span><br><span class="line">      acc[key] = el[key]</span><br><span class="line">      <span class="keyword">return</span> acc</span><br><span class="line">    &#125;, &#123;&#125;)</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line"><span class="keyword">const</span> data = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="number">1</span>,</span><br><span class="line">    name: <span class="string">'john'</span>,</span><br><span class="line">    age: <span class="number">24</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: <span class="number">2</span>,</span><br><span class="line">    name: <span class="string">'mike'</span>,</span><br><span class="line">    age: <span class="number">50</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">reducedFilter(data, [<span class="string">'id'</span>, <span class="string">'name'</span>], item =&gt; item.age &gt; <span class="number">24</span>)</span><br><span class="line"><span class="comment">// [&#123; id: 2, name: 'mike'&#125;]</span></span><br></pre></td></tr></table></figure>
<h1 id="reduceSuccessive"><a href="#reduceSuccessive" class="headerlink" title="reduceSuccessive"></a>reduceSuccessive</h1><p>对累加器和数组中的每个元素应用一个函数(从左到右)，返回一个值变大的数组。</p>
<p>使用 Array.prototype.reduce()将给定的函数应用于数组，存储每个新的结果。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reduceSuccessive = <span class="function">(<span class="params">arr, fn, acc</span>) =&gt;</span></span><br><span class="line">  arr.reduce(</span><br><span class="line">    (res, val, i, arr) =&gt; (res.push(fn(res.slice(<span class="number">-1</span>)[<span class="number">0</span>], val, i, arr)), res),</span><br><span class="line">    [acc]</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">reduceSuccessive([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], (acc, val) =&gt; acc + val, <span class="number">0</span>) <span class="comment">// [0, 1, 3, 6, 10, 15, 21]</span></span><br></pre></td></tr></table></figure>
<h1 id="reduceWhich"><a href="#reduceWhich" class="headerlink" title="reduceWhich"></a>reduceWhich</h1><p>应用提供的函数设置比较规则后，返回数组的最小值/最大值。</p>
<p>将 Array.prototype.reduce()与 comparator 函数结合使用，在数组中取得对应的元素。可以省略第二个参数，使用返回数组中最小元素作为默认参数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 简直精髓</span></span><br><span class="line"><span class="keyword">const</span> reduceWhich = <span class="function">(<span class="params">arr, comparator = (a, b</span>) =&gt;</span> a - b) =&gt;</span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> (comparator(a, b) &gt;= <span class="number">0</span> ? b : a))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">reduceWhich([<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>]) <span class="comment">// 1</span></span><br><span class="line">reduceWhich([<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>], (a, b) =&gt; b - a) <span class="comment">// 3</span></span><br><span class="line">reduceWhich(</span><br><span class="line">  [</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Tom'</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Jack'</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Lucy'</span>, <span class="attr">age</span>: <span class="number">9</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  (a, b) =&gt; a.age - b.age</span><br><span class="line">) <span class="comment">// &#123;name: "Lucy", age: 9&#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="reject"><a href="#reject" class="headerlink" title="reject"></a>reject</h1><p>接收函数和数组，使用 Array.prototype.Filter()，但仅在 pred(x) = false 时保留 x。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reject = <span class="function">(<span class="params">pred, array</span>) =&gt;</span> array.filter(<span class="function">(<span class="params">...args</span>) =&gt;</span> !pred(...args))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">reject(<span class="function"><span class="params">x</span> =&gt;</span> x % <span class="number">2</span> === <span class="number">0</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]) <span class="comment">// [1, 3, 5]</span></span><br><span class="line">reject(<span class="function"><span class="params">word</span> =&gt;</span> word.length &gt; <span class="number">4</span>, [<span class="string">'Apple'</span>, <span class="string">'Pear'</span>, <span class="string">'Kiwi'</span>, <span class="string">'Banana'</span>]) <span class="comment">// ['Pear', 'Kiwi']</span></span><br></pre></td></tr></table></figure>
<h1 id="remove"><a href="#remove" class="headerlink" title="remove"></a>remove</h1><p>从数组中移除给定函数返回 false 的元素。</p>
<p>使用 Array.prototype.filter()查找返回真值的数组元素，使用 Array.prototype.splice()删除元素。函数是用三个参数(值、索引、数组)调用的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> remove = <span class="function">(<span class="params">arr, func</span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.isArray(arr)</span><br><span class="line">    ? arr.filter(func).reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> &#123;</span><br><span class="line">        arr.splice(arr.indexOf(val), <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> acc.concat(val)</span><br><span class="line">      &#125;, [])</span><br><span class="line">    : []</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">remove([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], n =&gt; n % <span class="number">2</span> === <span class="number">0</span>) <span class="comment">// [2, 4]</span></span><br></pre></td></tr></table></figure>
<h1 id="sample"><a href="#sample" class="headerlink" title="sample"></a>sample</h1><p>从数组中返回随机元素</p>
<p>使用 Math.random()生成一个随机数，并乘上数组长度，然后使用 Math.floor()向下取整。这个方法也适用于字符串。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sample = <span class="function"><span class="params">arr</span> =&gt;</span> arr[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * arr.length)]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">sample([<span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>]) <span class="comment">// 9</span></span><br></pre></td></tr></table></figure>
<h1 id="sampleSize"><a href="#sampleSize" class="headerlink" title="sampleSize"></a>sampleSize</h1><p>从数组中以唯一键获取 n 个随机元素，直到数组结束。</p>
<p>使用 Fisher-Yates 算法洗牌数组。使用 Array.prototype.slice()获得前 n 个元素。省略第二个参数 n，从数组中获取第一个元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sampleSize = <span class="function">(<span class="params">[...arr], n = <span class="number">1</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> m = arr.length</span><br><span class="line">  <span class="keyword">while</span> (m) &#123;</span><br><span class="line">    <span class="keyword">const</span> i = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * m--)</span><br><span class="line">    ;[arr[m], arr[i]] = [arr[i], arr[m]]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr.slice(<span class="number">0</span>, n)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">sampleSize([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>) <span class="comment">// [3,1]</span></span><br><span class="line">sampleSize([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>) <span class="comment">// [2,3,1]</span></span><br></pre></td></tr></table></figure>
<h1 id="shank"><a href="#shank" class="headerlink" title="shank"></a>shank</h1><p>和 Array.prototype.splice()功能相同，但是返回一个新的数组，而不是改变原始数组。</p>
<p>在移除现有元素/添加新元素后，使用 Array.prototype.slice()和 Array.prototype .concat()获得包含新内容的新数组。省略第二个参数 index，则从 0 开始。省略第三个参数 DelCount，不删除元素。省略第四个参数元素，不添加新元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shank = <span class="function">(<span class="params">arr, index = <span class="number">0</span>, delCount = <span class="number">0</span>, ...elements</span>) =&gt;</span></span><br><span class="line">  arr</span><br><span class="line">    .slice(<span class="number">0</span>, index)</span><br><span class="line">    .concat(elements)</span><br><span class="line">    .concat(arr.slice(index + delCount))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line"><span class="keyword">const</span> names = [<span class="string">'alpha'</span>, <span class="string">'bravo'</span>, <span class="string">'charlie'</span>]</span><br><span class="line"><span class="keyword">const</span> namesAndDelta = shank(names, <span class="number">1</span>, <span class="number">0</span>, <span class="string">'delta'</span>) <span class="comment">// [ 'alpha', 'delta', 'bravo', 'charlie' ]</span></span><br><span class="line"><span class="keyword">const</span> namesNoBravo = shank(names, <span class="number">1</span>, <span class="number">1</span>) <span class="comment">// [ 'alpha', 'charlie' ]</span></span><br><span class="line"><span class="built_in">console</span>.log(names) <span class="comment">// ['alpha', 'bravo', 'charlie']</span></span><br></pre></td></tr></table></figure>
<h1 id="shuffle"><a href="#shuffle" class="headerlink" title="shuffle"></a>shuffle</h1><p>随机排列数组值的顺序，返回一个新数组。</p>
<p>使用 Fisher-Yates 算法对数组元素重新排序。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shuffle = <span class="function">(<span class="params">[...arr]</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> m = arr.length</span><br><span class="line">  <span class="keyword">while</span> (m) &#123;</span><br><span class="line">    <span class="keyword">const</span> i = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * m--)</span><br><span class="line">    ;[arr[m], arr[i]] = [arr[i], arr[m]]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line"><span class="keyword">const</span> foo = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">shuffle(foo) <span class="comment">// [2, 3, 1], foo = [1, 2, 3]</span></span><br></pre></td></tr></table></figure>
<h1 id="similarity"><a href="#similarity" class="headerlink" title="similarity"></a>similarity</h1><p>返回出现在两个数组中的元素数组。</p>
<p>使用 Array.prototype.filter()过滤非公共值，这些值是由 Array.prototype .include()确定的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> similarity = <span class="function">(<span class="params">arr, values</span>) =&gt;</span> arr.filter(<span class="function"><span class="params">v</span> =&gt;</span> values.includes(v))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">similarity([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>])</span><br><span class="line"><span class="comment">// [1, 2]</span></span><br></pre></td></tr></table></figure>
<h1 id="sortedIndex"><a href="#sortedIndex" class="headerlink" title="sortedIndex"></a>sortedIndex</h1><p>将指定值插入到数组中，保持其排序顺序的最左侧。</p>
<p>检查数组是否按降序（松散地）排序。 使用 Array.findIndex() 来找到元素应该被插入的合适的索引位置。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sortedIndex = <span class="function">(<span class="params">arr, n</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isDescending = arr[<span class="number">0</span>] &gt; arr[arr.length - <span class="number">1</span>]</span><br><span class="line">  <span class="keyword">const</span> index = arr.findIndex(<span class="function"><span class="params">el</span> =&gt;</span> (isDescending ? n &gt;= el : n &lt;= el))</span><br><span class="line">  <span class="keyword">return</span> index === <span class="number">-1</span> ? arr.length : index</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">sortedIndex([<span class="number">5</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>], <span class="number">4</span>) <span class="comment">// 1</span></span><br><span class="line">sortedIndex([<span class="number">30</span>, <span class="number">50</span>], <span class="number">40</span>) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h1 id="sortedIndexBy"><a href="#sortedIndexBy" class="headerlink" title="sortedIndexBy"></a>sortedIndexBy</h1><p>根据提供的迭代器函数，将指定值插入数组，保持其排序顺序的最左侧。</p>
<p>检查数组是否按降序（松散）排序。根据迭代器函数 fn，使用 array.prototype.find index（）查找应在其中插入元素的适当索引。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sortedIndexBy = <span class="function">(<span class="params">arr, n, fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isDescending = fn(arr[<span class="number">0</span>]) &gt; fn(arr[arr.length - <span class="number">1</span>])</span><br><span class="line">  <span class="keyword">const</span> val = fn(n)</span><br><span class="line">  <span class="keyword">const</span> index = arr.findIndex(<span class="function"><span class="params">el</span> =&gt;</span></span><br><span class="line">    isDescending ? val &gt;= fn(el) : val &lt;= fn(el)</span><br><span class="line">  )</span><br><span class="line">  <span class="keyword">return</span> index === <span class="number">-1</span> ? arr.length : index</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">sortedIndexBy([&#123; <span class="attr">x</span>: <span class="number">4</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">5</span> &#125;], &#123; <span class="attr">x</span>: <span class="number">4</span> &#125;, o =&gt; o.x) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<h1 id="sortedLastIndex"><a href="#sortedLastIndex" class="headerlink" title="sortedLastIndex"></a>sortedLastIndex</h1><p>将指定值插入数组，保持其排序顺序的最右侧。</p>
<p>检查数组是否按降序（松散）排序。使用 array.prototype.reverse（）和 array.prototype.find index（）找到元素应该插入的最后一个索引。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sortedLastIndex = <span class="function">(<span class="params">arr, n</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isDescending = arr[<span class="number">0</span>] &gt; arr[arr.length - <span class="number">1</span>]</span><br><span class="line">  <span class="keyword">const</span> index = arr</span><br><span class="line">    .reverse()</span><br><span class="line">    .findIndex(<span class="function"><span class="params">el</span> =&gt;</span> (isDescending ? n &lt;= el : n &gt;= el))</span><br><span class="line">  <span class="keyword">return</span> index === <span class="number">-1</span> ? <span class="number">0</span> : arr.length - index</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">sortedLastIndex([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">30</span>, <span class="number">40</span>], <span class="number">30</span>) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<h1 id="sortedLastIndexBy"><a href="#sortedLastIndexBy" class="headerlink" title="sortedLastIndexBy"></a>sortedLastIndexBy</h1><p>根据提供的迭代器函数，将指定值插入数组，保持其排序顺序的最右侧。</p>
<p>检查数组是否按降序（松散）排序。使用 array.prototype.map（）将迭代器函数应用于数组的所有元素。根据提供的迭代器函数，使用 array.prototype.reverse（）和 array.prototype.find index（）查找元素应插入的最后一个适当索引。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sortedLastIndexBy = <span class="function">(<span class="params">arr, n, fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isDescending = fn(arr[<span class="number">0</span>]) &gt; fn(arr[arr.length - <span class="number">1</span>])</span><br><span class="line">  <span class="keyword">const</span> val = fn(n)</span><br><span class="line">  <span class="keyword">const</span> index = arr</span><br><span class="line">    .map(fn)</span><br><span class="line">    .reverse()</span><br><span class="line">    .findIndex(<span class="function"><span class="params">el</span> =&gt;</span> (isDescending ? val &lt;= el : val &gt;= el))</span><br><span class="line">  <span class="keyword">return</span> index === <span class="number">-1</span> ? <span class="number">0</span> : arr.length - index</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">sortedLastIndexBy([&#123; <span class="attr">x</span>: <span class="number">4</span> &#125;, &#123; <span class="attr">x</span>: <span class="number">5</span> &#125;], &#123; <span class="attr">x</span>: <span class="number">4</span> &#125;, o =&gt; o.x) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h1 id="symmetricDifference"><a href="#symmetricDifference" class="headerlink" title="symmetricDifference"></a>symmetricDifference</h1><p>返回两个数组之间的差集。</p>
<p>根据每个数组创建一个 Set ，然后在每个数组上使用 Array.filter() ，只保留另一个数组不包含的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> symmetricDifference = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> sA = <span class="keyword">new</span> <span class="built_in">Set</span>(a),</span><br><span class="line">    sB = <span class="keyword">new</span> <span class="built_in">Set</span>(b)</span><br><span class="line">  <span class="keyword">return</span> [...a.filter(<span class="function"><span class="params">x</span> =&gt;</span> !sB.has(x)), ...b.filter(<span class="function"><span class="params">x</span> =&gt;</span> !sA.has(x))]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">symmetricDifference([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>]) <span class="comment">// [3, 4]</span></span><br><span class="line">symmetricDifference([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>]) <span class="comment">// [2, 2, 3]</span></span><br></pre></td></tr></table></figure>
<h1 id="symmetricDifferenceBy"><a href="#symmetricDifferenceBy" class="headerlink" title="symmetricDifferenceBy"></a>symmetricDifferenceBy</h1><p>将提供的函数应用于两个数组的每个数组元素后，返回两个数组之间的差集。</p>
<p>通过对每个数组的元素应用 fn 创建一个集合，然后对每个元素使用 array.prototype.filter（）来只保留不包含在另一个数组中的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> symmetricDifferenceBy = <span class="function">(<span class="params">a, b, fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> sA = <span class="keyword">new</span> <span class="built_in">Set</span>(a.map(<span class="function"><span class="params">v</span> =&gt;</span> fn(v))),</span><br><span class="line">    sB = <span class="keyword">new</span> <span class="built_in">Set</span>(b.map(<span class="function"><span class="params">v</span> =&gt;</span> fn(v)))</span><br><span class="line">  <span class="keyword">return</span> [...a.filter(<span class="function"><span class="params">x</span> =&gt;</span> !sB.has(fn(x))), ...b.filter(<span class="function"><span class="params">x</span> =&gt;</span> !sA.has(fn(x)))]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">symmetricDifferenceBy([<span class="number">2.1</span>, <span class="number">1.2</span>], [<span class="number">2.3</span>, <span class="number">3.4</span>], <span class="built_in">Math</span>.floor) <span class="comment">// [ 1.2, 3.4 ]</span></span><br></pre></td></tr></table></figure>
<h1 id="symmetricDifferenceWith"><a href="#symmetricDifferenceWith" class="headerlink" title="symmetricDifferenceWith"></a>symmetricDifferenceWith</h1><p>使用提供的函数作为比较器返回两个数组之间的差集。</p>
<p>使用 array.prototype.filter（）和 array.prototype.findindex（）查找适当的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> symmetricDifferenceWith = <span class="function">(<span class="params">arr, val, comp</span>) =&gt;</span> [</span><br><span class="line">  ...arr.filter(<span class="function"><span class="params">a</span> =&gt;</span> val.findIndex(<span class="function"><span class="params">b</span> =&gt;</span> comp(a, b)) === <span class="number">-1</span>),</span><br><span class="line">  ...val.filter(<span class="function"><span class="params">a</span> =&gt;</span> arr.findIndex(<span class="function"><span class="params">b</span> =&gt;</span> comp(a, b)) === <span class="number">-1</span>)</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">symmetricDifferenceWith(</span><br><span class="line">  [<span class="number">1</span>, <span class="number">1.2</span>, <span class="number">1.5</span>, <span class="number">3</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">1.9</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">3.9</span>],</span><br><span class="line">  (a, b) =&gt; <span class="built_in">Math</span>.round(a) === <span class="built_in">Math</span>.round(b)</span><br><span class="line">) <span class="comment">// [1, 1.2, 3.9]</span></span><br></pre></td></tr></table></figure>
<h1 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h1><p>返回数组中除第一个元素外的所有元素。</p>
<p>如果数组的 length 大于 1 ，则返回 Array.slice(1)，否则返回整个数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tail = <span class="function"><span class="params">arr</span> =&gt;</span> (arr.length &gt; <span class="number">1</span> ? arr.slice(<span class="number">1</span>) : arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">tail([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// [2,3]</span></span><br><span class="line">tail([<span class="number">1</span>]) <span class="comment">// [1]</span></span><br></pre></td></tr></table></figure>
<h1 id="take"><a href="#take" class="headerlink" title="take"></a>take</h1><p>创建一个数组切片，从 arr 数组的起始元素开始提取 n 个元素。</p>
<p>使用 Array.slice() 创建一个数组包含第一个元素开始，到 n 个元素结束的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> take = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> arr.slice(<span class="number">0</span>, n)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">take([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">5</span>) <span class="comment">// [1, 2, 3]</span></span><br><span class="line">take([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">0</span>) <span class="comment">// []</span></span><br></pre></td></tr></table></figure>
<h1 id="takeRight"><a href="#takeRight" class="headerlink" title="takeRight"></a>takeRight</h1><p>创建一个数组切片，从 arr 数组的最后一个元素开始向前提取 n 个元素。</p>
<p>使用 Array.slice() 来创建一个从第 n 个元素开始从末尾的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> takeRight = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> arr.slice(arr.length - n, arr.length)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">takeRight([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">2</span>) <span class="comment">// [ 2, 3 ]</span></span><br><span class="line">takeRight([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// [3]</span></span><br></pre></td></tr></table></figure>
<h1 id="takeRightWhile"><a href="#takeRightWhile" class="headerlink" title="takeRightWhile"></a>takeRightWhile</h1><p>从数组末尾移除元素，直到传递的函数返回 true。返回删除的元素。</p>
<p>使用 array.prototype.reducceright（）循环数组，并在函数返回错误值时累积元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> takeRightWhile = <span class="function">(<span class="params">arr, func</span>) =&gt;</span></span><br><span class="line">  arr.reduceRight(<span class="function">(<span class="params">acc, el</span>) =&gt;</span> (func(el) ? acc : [el, ...acc]), [])</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">takeRightWhile([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], n =&gt; n &lt; <span class="number">3</span>) <span class="comment">// [3, 4]</span></span><br></pre></td></tr></table></figure>
<h1 id="takeWhile"><a href="#takeWhile" class="headerlink" title="takeWhile"></a>takeWhile</h1><p>移除数组中的元素，直到传递的函数返回 true。返回删除的元素。</p>
<p>循环数组，使用 for…of 循环 over array.prototype.entries（），直到函数返回的值为 true。使用 array.prototype.slice（）返回删除的元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> takeWhile = <span class="function">(<span class="params">arr, func</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> [i, val] <span class="keyword">of</span> arr.entries()) <span class="keyword">if</span> (func(val)) <span class="keyword">return</span> arr.slice(<span class="number">0</span>, i)</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">takeWhile([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], n =&gt; n &gt;= <span class="number">3</span>) <span class="comment">// [1, 2]</span></span><br></pre></td></tr></table></figure>
<h1 id="toHash"><a href="#toHash" class="headerlink" title="toHash"></a>toHash</h1><p>将给定数组简化为值哈希（keyed data store）。</p>
<p>给定一个 iterable 或类似数组的结构，对所提供的对象调用 array.prototype.reduce.call（）以跳过它并返回一个由引用值键控的对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toHash = <span class="function">(<span class="params">object, key</span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.prototype.reduce.call(</span><br><span class="line">    object,</span><br><span class="line">    (acc, data, index) =&gt; ((acc[!key ? index : data[key]] = data), acc),</span><br><span class="line">    &#123;&#125;</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">toHash([<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]) <span class="comment">// &#123; 0: 4, 1: 3, 2: 2, 3: 1 &#125;</span></span><br><span class="line">toHash([&#123; <span class="attr">a</span>: <span class="string">'label'</span> &#125;], <span class="string">'a'</span>) <span class="comment">// &#123; label: &#123; a: 'label' &#125; &#125;</span></span><br><span class="line"><span class="comment">// A more in depth example:</span></span><br><span class="line"><span class="keyword">let</span> users = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">first</span>: <span class="string">'Jon'</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">first</span>: <span class="string">'Joe'</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">first</span>: <span class="string">'Moe'</span> &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">let</span> managers = [&#123; <span class="attr">manager</span>: <span class="number">1</span>, <span class="attr">employees</span>: [<span class="number">2</span>, <span class="number">3</span>] &#125;]</span><br><span class="line"><span class="comment">// We use function here because we want a bindable reference, but a closure referencing the hash would work, too.</span></span><br><span class="line">managers.forEach(</span><br><span class="line">  manager =&gt;</span><br><span class="line">    (manager.employees = manager.employees.map(<span class="function"><span class="keyword">function</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>[id]</span><br><span class="line">    &#125;, toHash(users, <span class="string">'id'</span>)))</span><br><span class="line">)</span><br><span class="line">managers <span class="comment">// [ &#123; manager:1, employees: [ &#123; id: 2, first: "Joe" &#125;, &#123; id: 3, first: "Moe" &#125; ] &#125; ]</span></span><br></pre></td></tr></table></figure>
<h1 id="union"><a href="#union" class="headerlink" title="union"></a>union</h1><p>返回两个数组中的任何一个元素(没有重复的)。</p>
<p>用数组 a 和 b 的所有值创建一个 Set 对象，并转换成一个数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> union = <span class="function">(<span class="params">a, b</span>) =&gt;</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>([...a, ...b]))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">union([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>]) <span class="comment">// [1,2,3,4]</span></span><br></pre></td></tr></table></figure>
<h1 id="unionBy"><a href="#unionBy" class="headerlink" title="unionBy"></a>unionBy</h1><p>将提供的函数应用于两个数组的每个数组元素之后，返回两个数组中任何一个元素(没有重复的)。</p>
<p>通过将所有 fn 应用于 a 的所有值来创建集合。从 a 和 b 中的所有元素创建集合，在应用 fn 之后，这些元素的值与以前创建的集合中的值不匹配。返回最后一个转换为数组的集合。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> unionBy = <span class="function">(<span class="params">a, b, fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(a.map(fn))</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>([...a, ...b.filter(<span class="function"><span class="params">x</span> =&gt;</span> !s.has(fn(x)))]))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">unionBy([<span class="number">2.1</span>], [<span class="number">1.2</span>, <span class="number">2.3</span>], <span class="built_in">Math</span>.floor) <span class="comment">// [2.1, 1.2]</span></span><br></pre></td></tr></table></figure>
<h1 id="unionWith"><a href="#unionWith" class="headerlink" title="unionWith"></a>unionWith</h1><p>使用提供的比较器函数，返回两个数组中任何一个数组中存在的每个元素一次。</p>
<p>使用 array.prototype.findindex（）创建一个集合，其中 a 的所有值和 b 中的值都是比较器在 a 中找不到匹配项的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> unionWith = <span class="function">(<span class="params">a, b, comp</span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Set</span>([...a, ...b.filter(<span class="function"><span class="params">x</span> =&gt;</span> a.findIndex(<span class="function"><span class="params">y</span> =&gt;</span> comp(x, y)) === <span class="number">-1</span>)])</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">unionWith(</span><br><span class="line">  [<span class="number">1</span>, <span class="number">1.2</span>, <span class="number">1.5</span>, <span class="number">3</span>, <span class="number">0</span>],</span><br><span class="line">  [<span class="number">1.9</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">3.9</span>],</span><br><span class="line">  (a, b) =&gt; <span class="built_in">Math</span>.round(a) === <span class="built_in">Math</span>.round(b)</span><br><span class="line">)</span><br><span class="line"><span class="comment">// [1, 1.2, 1.5, 3, 0, 3.9]</span></span><br></pre></td></tr></table></figure>
<h1 id="uniqueElements"><a href="#uniqueElements" class="headerlink" title="uniqueElements"></a>uniqueElements</h1><p>返回数组的所有唯一值，去重。</p>
<p>使用 es6 set 和…rest 运算符放弃所有重复的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> uniqueElements = <span class="function"><span class="params">arr</span> =&gt;</span> [...new <span class="built_in">Set</span>(arr)]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">uniqueElements([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>]) <span class="comment">// [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>
<h1 id="uniqueElementsBy"><a href="#uniqueElementsBy" class="headerlink" title="uniqueElementsBy"></a>uniqueElementsBy</h1><p>基于提供的比较器函数返回数组的所有唯一值。</p>
<p>使用 array.prototype.reduce（）和 array.prototype.some（）表示一个数组，该数组只包含每个值的第一次唯一出现，基于 comparator 函数 fn。comparator 函数接受两个参数：被比较的两个元素的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> uniqueElementsBy = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">acc, v</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!acc.some(<span class="function"><span class="params">x</span> =&gt;</span> fn(v, x))) acc.push(v)</span><br><span class="line">    <span class="keyword">return</span> acc</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">uniqueElementsBy(</span><br><span class="line">  [</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">0</span>, <span class="attr">value</span>: <span class="string">'a'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">value</span>: <span class="string">'b'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">value</span>: <span class="string">'c'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">value</span>: <span class="string">'d'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">0</span>, <span class="attr">value</span>: <span class="string">'e'</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  (a, b) =&gt; a.id == b.id</span><br><span class="line">) <span class="comment">// [ &#123; id: 0, value: 'a' &#125;, &#123; id: 1, value: 'b' &#125;, &#123; id: 2, value: 'c' &#125; ]</span></span><br></pre></td></tr></table></figure>
<h1 id="uniqueElementsByRight"><a href="#uniqueElementsByRight" class="headerlink" title="uniqueElementsByRight"></a>uniqueElementsByRight</h1><p>基于提供的比较器函数返回数组的所有唯一值。</p>
<p>使用 array.prototype.reduce（）和 array.prototype.some（）对仅包含每个值最后一次唯一出现的数组（基于 comparator 函数 fn）。comparator 函数接受两个参数：被比较的两个元素的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> uniqueSymmetricDifference = <span class="function">(<span class="params">a, b</span>) =&gt;</span> [</span><br><span class="line">  ...new <span class="built_in">Set</span>([</span><br><span class="line">    ...a.filter(<span class="function"><span class="params">v</span> =&gt;</span> !b.includes(v)),</span><br><span class="line">    ...b.filter(<span class="function"><span class="params">v</span> =&gt;</span> !a.includes(v))</span><br><span class="line">  ])</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">uniqueSymmetricDifference([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>]) <span class="comment">// [3, 4]</span></span><br><span class="line">uniqueSymmetricDifference([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>]) <span class="comment">// [2, 3]</span></span><br></pre></td></tr></table></figure>
<h1 id="uniqueSymmetricDifference"><a href="#uniqueSymmetricDifference" class="headerlink" title="uniqueSymmetricDifference"></a>uniqueSymmetricDifference</h1><p>返回两个数组之间的差集，不包含来自任一数组的重复值。</p>
<p>在每个数组上使用 array.prototype.filter（）和 array.prototype.includes（）删除另一个数组中包含的值，然后根据结果创建一个集合，删除重复的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> uniqueSymmetricDifference = <span class="function">(<span class="params">a, b</span>) =&gt;</span> [</span><br><span class="line">  ...new <span class="built_in">Set</span>([</span><br><span class="line">    ...a.filter(<span class="function"><span class="params">v</span> =&gt;</span> !b.includes(v)),</span><br><span class="line">    ...b.filter(<span class="function"><span class="params">v</span> =&gt;</span> !a.includes(v))</span><br><span class="line">  ])</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">uniqueSymmetricDifference([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>]) <span class="comment">// [3, 4]</span></span><br><span class="line">uniqueSymmetricDifference([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>]) <span class="comment">// [2, 3]</span></span><br></pre></td></tr></table></figure>
<h1 id="unzip"><a href="#unzip" class="headerlink" title="unzip"></a>unzip</h1><p>创建数组数组，取消对由 zip 生成的数组中的元素的分组。</p>
<p>使用 math.max.apply（）获取数组中最长的子数组 array.prototype.map（）使每个元素成为数组。使用 array.prototype.reduce（）和 array.prototype.foreach（）将分组值映射到单个数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> unzip = <span class="function"><span class="params">arr</span> =&gt;</span></span><br><span class="line">  arr.reduce(</span><br><span class="line">    (acc, val) =&gt; <span class="function">(<span class="params">val.forEach((v, i</span>) =&gt;</span> acc[i].push(v)), acc),</span><br><span class="line">    <span class="built_in">Array</span>.from(&#123;</span><br><span class="line">      length: <span class="built_in">Math</span>.max(...arr.map(<span class="function"><span class="params">x</span> =&gt;</span> x.length))</span><br><span class="line">    &#125;).map(<span class="function"><span class="params">x</span> =&gt;</span> [])</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">unzip([[<span class="string">'a'</span>, <span class="number">1</span>, <span class="literal">true</span>], [<span class="string">'b'</span>, <span class="number">2</span>, <span class="literal">false</span>]]) <span class="comment">// [['a', 'b'], [1, 2], [true, false]]</span></span><br><span class="line">unzip([[<span class="string">'a'</span>, <span class="number">1</span>, <span class="literal">true</span>], [<span class="string">'b'</span>, <span class="number">2</span>]]) <span class="comment">// [['a', 'b'], [1, 2], [true]]</span></span><br></pre></td></tr></table></figure>
<h1 id="unzipWith"><a href="#unzipWith" class="headerlink" title="unzipWith"></a>unzipWith</h1><p>创建元素数组，取消对由 zip 生成的数组中的元素的分组，并应用提供的函数。</p>
<p>使用 math.max.apply（）获取数组中最长的子数组 array.prototype.map（）使每个元素成为数组。使用 array.prototype.reduce（）和 array.prototype.foreach（）将分组值映射到单个数组。使用 array.prototype.map（）和 spread 运算符（…）将 fn 应用于每个单独的元素组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> unzipWith = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span></span><br><span class="line">  arr</span><br><span class="line">    .reduce(</span><br><span class="line">      (acc, val) =&gt; <span class="function">(<span class="params">val.forEach((v, i</span>) =&gt;</span> acc[i].push(v)), acc),</span><br><span class="line">      <span class="built_in">Array</span>.from(&#123;</span><br><span class="line">        length: <span class="built_in">Math</span>.max(...arr.map(<span class="function"><span class="params">x</span> =&gt;</span> x.length))</span><br><span class="line">      &#125;).map(<span class="function"><span class="params">x</span> =&gt;</span> [])</span><br><span class="line">    )</span><br><span class="line">    .map(<span class="function"><span class="params">val</span> =&gt;</span> fn(...val))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">unzipWith([[<span class="number">1</span>, <span class="number">10</span>, <span class="number">100</span>], [<span class="number">2</span>, <span class="number">20</span>, <span class="number">200</span>]], (...args) =&gt;</span><br><span class="line">  args.reduce(<span class="function">(<span class="params">acc, v</span>) =&gt;</span> acc + v, <span class="number">0</span>)</span><br><span class="line">) <span class="comment">// [3, 30, 300]</span></span><br></pre></td></tr></table></figure>
<h1 id="without"><a href="#without" class="headerlink" title="without"></a>without</h1><p>从数组中排除给定值。</p>
<p>使用 Array.filter() 创建一个不包括（使用!Array.includes()）所有给定值的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> without = <span class="function">(<span class="params">arr, ...args</span>) =&gt;</span> arr.filter(<span class="function"><span class="params">v</span> =&gt;</span> !args.includes(v))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">without([<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">1</span>, <span class="number">2</span>) <span class="comment">// [3]</span></span><br></pre></td></tr></table></figure>
<h1 id="xProd"><a href="#xProd" class="headerlink" title="xProd"></a>xProd</h1><p>通过从数组中创建每个可能的值，从提供的两个数组中创建一个新数组。</p>
<p>使用 array.prototype.reduce（）、array.prototype.map（）和 array.prototype.concat（）从两个数组的元素中生成每个可能的对，并将它们保存在一个数组中。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xProd = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a.reduce(<span class="function">(<span class="params">acc, x</span>) =&gt;</span> acc.concat(b.map(<span class="function"><span class="params">y</span> =&gt;</span> [x, y])), [])</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">xProd([<span class="number">1</span>, <span class="number">2</span>], [<span class="string">'a'</span>, <span class="string">'b'</span>]) <span class="comment">// [[1, 'a'], [1, 'b'], [2, 'a'], [2, 'b']]</span></span><br></pre></td></tr></table></figure>
<h1 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h1><p>创建一组元素，根据原始数组中的位置进行分组。</p>
<p>使用 Math.max.apply() 获取参数中最长的数组。 创建一个长度为返回值的数组，并使用 Array.from() 和 map-function 来创建一个分组元素数组。 如果参数数组的长度不同，则在未找到值的情况下使用 undefined 。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> zip = <span class="function">(<span class="params">...arrays</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> maxLength = <span class="built_in">Math</span>.max(...arrays.map(<span class="function"><span class="params">x</span> =&gt;</span> x.length))</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: maxLength &#125;).map(<span class="function">(<span class="params">_, i</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: arrays.length &#125;, (_, k) =&gt; arrays[k][i])</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">zip([<span class="string">'a'</span>, <span class="string">'b'</span>], [<span class="number">1</span>, <span class="number">2</span>], [<span class="literal">true</span>, <span class="literal">false</span>]) <span class="comment">// [['a', 1, true], ['b', 2, false]]</span></span><br><span class="line">zip([<span class="string">'a'</span>], [<span class="number">1</span>, <span class="number">2</span>], [<span class="literal">true</span>, <span class="literal">false</span>]) <span class="comment">// [['a', 1, true], [undefined, 2, false]]</span></span><br></pre></td></tr></table></figure>
<h1 id="zipObject"><a href="#zipObject" class="headerlink" title="zipObject"></a>zipObject</h1><p>给定一个有效的属性标识符数组和一个值的数组，返回一个将属性关联到值的对象。</p>
<p>由于一个对象可以有未定义的值，但不存在未定义的属性，该属性数组用于使用 Array.reduce() 来决定结果对象的结构。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> zipObject = <span class="function">(<span class="params">props, values</span>) =&gt;</span></span><br><span class="line">  props.reduce(<span class="function">(<span class="params">obj, prop, index</span>) =&gt;</span> ((obj[prop] = values[index]), obj), &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">zipObject([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>], [<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// &#123;a: 1, b: 2, c: undefined&#125;</span></span><br><span class="line">zipObject([<span class="string">'a'</span>, <span class="string">'b'</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// &#123;a: 1, b: 2&#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="zipWith"><a href="#zipWith" class="headerlink" title="zipWith"></a>zipWith</h1><p>创建一个元素数组，根据原始数组中的位置进行分组，并使用函数作为最后一个值来指定组合值的方式。</p>
<p>检查提供的最后一个参数是否为函数。使用 math.max（）获取参数中最长的数组。创建一个以该长度作为返回值的数组，并使用带有 map 函数的 array.from（）创建一个分组元素数组。如果参数数组的长度不同，则在找不到值的情况下使用 UNDEFINED。使用每个组（…组）的元素调用函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> zipWith = <span class="function">(<span class="params">...array</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> fn =</span><br><span class="line">    <span class="keyword">typeof</span> array[array.length - <span class="number">1</span>] === <span class="string">'function'</span> ? array.pop() : <span class="literal">undefined</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: <span class="built_in">Math</span>.max(...array.map(<span class="function"><span class="params">a</span> =&gt;</span> a.length)) &#125;, (_, i) =&gt;</span><br><span class="line">    fn ? fn(...array.map(<span class="function"><span class="params">a</span> =&gt;</span> a[i])) : array.map(<span class="function"><span class="params">a</span> =&gt;</span> a[i])</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例 ↓</span></span><br><span class="line">zipWith([<span class="number">1</span>, <span class="number">2</span>], [<span class="number">10</span>, <span class="number">20</span>], [<span class="number">100</span>, <span class="number">200</span>], (a, b, c) =&gt; a + b + c) <span class="comment">// [111,222]</span></span><br><span class="line">zipWith(</span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">  [<span class="number">10</span>, <span class="number">20</span>],</span><br><span class="line">  [<span class="number">100</span>, <span class="number">200</span>],</span><br><span class="line">  (a, b, c) =&gt;</span><br><span class="line">    (a != <span class="literal">null</span> ? a : <span class="string">'a'</span>) + (b != <span class="literal">null</span> ? b : <span class="string">'b'</span>) + (c != <span class="literal">null</span> ? c : <span class="string">'c'</span>)</span><br><span class="line">) <span class="comment">// [111, 222, '3bc']</span></span><br></pre></td></tr></table></figure>
<hr>
<p>P- <a href="#array-%E7%AF%87">Array 篇</a></p>
<ul>
<li><a href="#array-%E7%AF%87">Array 篇</a></li>
<li><a href="#all">all</a></li>
<li><a href="#allequal">allEqual</a></li>
<li><a href="#any">any</a></li>
<li><a href="#arraytocsv">arrayToCSV</a></li>
<li><a href="#bifurcate">bifurcate</a></li>
<li><a href="#bifurcateby">bifurcateBy</a></li>
<li><a href="#chunk">chunk</a></li>
<li><a href="#compact">compact</a></li>
<li><a href="#countby">countBy</a></li>
<li><a href="#countoccurrences">countOccurrences</a></li>
<li><a href="#deepflatten">deepFlatten</a></li>
<li><a href="#difference">difference</a></li>
<li><a href="#differenceby">differenceBy</a></li>
<li><a href="#differencewith">differenceWith</a></li>
<li><a href="#drop">drop</a></li>
<li><a href="#dropright">dropRight</a></li>
<li><a href="#droprightwhile">dropRightWhile</a></li>
<li><a href="#dropwhile">dropWhile</a></li>
<li><a href="#everynth">everyNth</a></li>
<li><a href="#filterfalsy">filterFalsy</a></li>
<li><a href="#filternonunique">filterNonUnique</a></li>
<li><a href="#filternonuniqueby">filterNonUniqueBy</a></li>
<li><a href="#findlast">findLast</a></li>
<li><a href="#findlastindex">findLastIndex</a></li>
<li><a href="#flatten">flatten</a></li>
<li><a href="#foreachright">forEachRight</a></li>
<li><a href="#groupby">groupBy</a></li>
<li><a href="#head">head</a></li>
<li><a href="#indexofall">indexOfAll</a></li>
<li><a href="#initial">initial</a></li>
<li><a href="#initialize2darray">initialize2DArray</a></li>
<li><a href="#initializearraywithrange">initializeArrayWithRange</a></li>
<li><a href="#initializearraywithrangeright">initializeArrayWithRangeRight</a></li>
<li><a href="#initializearraywithvalues">initializeArrayWithValues</a></li>
<li><a href="#initializendarray">initializeNDArray</a></li>
<li><a href="#intersection">intersection</a></li>
<li><a href="#intersectionby">intersectionBy</a></li>
<li><a href="#intersectionwith">intersectionWith</a></li>
<li><a href="#issorted">isSorted</a></li>
<li><a href="#join">join</a></li>
<li><a href="#jsontocsv">JSONtoCSV</a></li>
<li><a href="#last">last</a></li>
<li><a href="#longestitem">longestItem</a></li>
<li><a href="#mapobject">mapObject</a></li>
<li><a href="#maxn">maxN</a></li>
<li><a href="#minn">minN</a></li>
<li><a href="#none">none</a></li>
<li><a href="#nthelement">nthElement</a></li>
<li><a href="#offset">offset</a></li>
<li><a href="#partition">partition</a></li>
<li><a href="#permutations">permutations</a></li>
<li><a href="#pull">pull</a></li>
<li><a href="#pullatindex">pullAtIndex</a></li>
<li><a href="#pullatvalue">pullAtValue</a></li>
<li><a href="#pullby">pullBy</a></li>
<li><a href="#reducedfilter">reducedFilter</a></li>
<li><a href="#reducesuccessive">reduceSuccessive</a></li>
<li><a href="#reducewhich">reduceWhich</a></li>
<li><a href="#reject">reject</a></li>
<li><a href="#remove">remove</a></li>
<li><a href="#sample">sample</a></li>
<li><a href="#samplesize">sampleSize</a></li>
<li><a href="#shank">shank</a></li>
<li><a href="#shuffle">shuffle</a></li>
<li><a href="#similarity">similarity</a></li>
<li><a href="#sortedindex">sortedIndex</a></li>
<li><a href="#sortedindexby">sortedIndexBy</a></li>
<li><a href="#sortedlastindex">sortedLastIndex</a></li>
<li><a href="#sortedlastindexby">sortedLastIndexBy</a></li>
<li><a href="#symmetricdifference">symmetricDifference</a></li>
<li><a href="#symmetricdifferenceby">symmetricDifferenceBy</a></li>
<li><a href="#symmetricdifferencewith">symmetricDifferenceWith</a></li>
<li><a href="#tail">tail</a></li>
<li><a href="#take">take</a></li>
<li><a href="#takeright">takeRight</a></li>
<li><a href="#takerightwhile">takeRightWhile</a></li>
<li><a href="#takewhile">takeWhile</a></li>
<li><a href="#tohash">toHash</a></li>
<li><a href="#union">union</a></li>
<li><a href="#unionby">unionBy</a></li>
<li><a href="#unionwith">unionWith</a></li>
<li><a href="#uniqueelements">uniqueElements</a></li>
<li><a href="#uniqueelementsby">uniqueElementsBy</a></li>
<li><a href="#uniqueelementsbyright">uniqueElementsByRight</a></li>
<li><a href="#uniquesymmetricdifference">uniqueSymmetricDifference</a></li>
<li><a href="#unzip">unzip</a></li>
<li><a href="#unzipwith">unzipWith</a></li>
<li><a href="#without">without</a></li>
<li><a href="#xprod">xProd</a></li>
<li><a href="#zip">zip</a></li>
<li><a href="#zipobject">zipObject</a></li>
<li><a href="#zipwith">zipWith</a></li>
</ul>

      
    </div>

    

    
    
    

    

    
       
    
    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div></div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="Chirenmeng 微信支付">
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.jpg" alt="Chirenmeng 支付宝">
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    
      <div>
        



  



<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Chirenmeng</li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    
    <a href="https://chirenmeng.com/2019/01/07/30-seconds-of-code-array/" title="30秒学习JavaScript代码段(Array篇)">https://chirenmeng.com/2019/01/07/30-seconds-of-code-array/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/ECMAScript6/" rel="tag"># ECMAScript6+</a>
          
            <a href="/tags/Array/" rel="tag"># Array</a>
          
        </div>
      

      
      
        <div class="post-widgets">
        

        

        
          
          <div class="social_share">
            
            
               <div id="needsharebutton-postbottom">
                 <span class="btn">
                    <i class="fa fa-share-alt" aria-hidden="true"></i>
                 </span>
               </div>
            
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/01/02/Iterator/" rel="next" title="你需要学习的 Iterator和for...of循环">
                <i class="fa fa-chevron-left"></i> 你需要学习的 Iterator和for...of循环
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/01/09/30-seconds-of-code-date/" rel="prev" title="30秒学习JavaScript代码段(Date篇)">
                30秒学习JavaScript代码段(Date篇) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="Chirenmeng">
            
              <p class="site-author-name" itemprop="name">Chirenmeng</p>
              <p class="site-description motion-element" itemprop="description">一个属于前端的博客</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">26</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/xstxhjh" title="GitHub &rarr; https://github.com/xstxhjh" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="/573363596@qq.com" title="E-Mail &rarr; 573363596@qq.com"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
                
              
              
              
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
             </div>
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                友情链接
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://juejin.im/post/59097cd7a22b9d0065fb61d2" title="https://juejin.im/post/59097cd7a22b9d0065fb61d2" rel="noopener" target="_blank">手摸手，带你用vue撸后台</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://github.com/30-seconds/30-seconds-of-code/blob/master/README.md" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/README.md" rel="noopener" target="_blank">30-seconds-of-code</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Array-篇"><span class="nav-number">1.</span> <span class="nav-text">Array 篇</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#all"><span class="nav-number">2.</span> <span class="nav-text">all</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#allEqual"><span class="nav-number">3.</span> <span class="nav-text">allEqual</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#any"><span class="nav-number">4.</span> <span class="nav-text">any</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#arrayToCSV"><span class="nav-number">5.</span> <span class="nav-text">arrayToCSV</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#bifurcate"><span class="nav-number">6.</span> <span class="nav-text">bifurcate</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#bifurcateBy"><span class="nav-number">7.</span> <span class="nav-text">bifurcateBy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#chunk"><span class="nav-number">8.</span> <span class="nav-text">chunk</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#compact"><span class="nav-number">9.</span> <span class="nav-text">compact</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#countBy"><span class="nav-number">10.</span> <span class="nav-text">countBy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#countOccurrences"><span class="nav-number">11.</span> <span class="nav-text">countOccurrences</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#deepFlatten"><span class="nav-number">12.</span> <span class="nav-text">deepFlatten</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#difference"><span class="nav-number">13.</span> <span class="nav-text">difference</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#differenceBy"><span class="nav-number">14.</span> <span class="nav-text">differenceBy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#differenceWith"><span class="nav-number">15.</span> <span class="nav-text">differenceWith</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#drop"><span class="nav-number">16.</span> <span class="nav-text">drop</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dropRight"><span class="nav-number">17.</span> <span class="nav-text">dropRight</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dropRightWhile"><span class="nav-number">18.</span> <span class="nav-text">dropRightWhile</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dropWhile"><span class="nav-number">19.</span> <span class="nav-text">dropWhile</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#everyNth"><span class="nav-number">20.</span> <span class="nav-text">everyNth</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#filterFalsy"><span class="nav-number">21.</span> <span class="nav-text">filterFalsy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#filterNonUnique"><span class="nav-number">22.</span> <span class="nav-text">filterNonUnique</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#filterNonUniqueBy"><span class="nav-number">23.</span> <span class="nav-text">filterNonUniqueBy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#findLast"><span class="nav-number">24.</span> <span class="nav-text">findLast</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#findLastIndex"><span class="nav-number">25.</span> <span class="nav-text">findLastIndex</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#flatten"><span class="nav-number">26.</span> <span class="nav-text">flatten</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#forEachRight"><span class="nav-number">27.</span> <span class="nav-text">forEachRight</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#groupBy"><span class="nav-number">28.</span> <span class="nav-text">groupBy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#head"><span class="nav-number">29.</span> <span class="nav-text">head</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#indexOfAll"><span class="nav-number">30.</span> <span class="nav-text">indexOfAll</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#initial"><span class="nav-number">31.</span> <span class="nav-text">initial</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#initialize2DArray"><span class="nav-number">32.</span> <span class="nav-text">initialize2DArray</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#initializeArrayWithRange"><span class="nav-number">33.</span> <span class="nav-text">initializeArrayWithRange</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#initializeArrayWithRangeRight"><span class="nav-number">34.</span> <span class="nav-text">initializeArrayWithRangeRight</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#initializeArrayWithValues"><span class="nav-number">35.</span> <span class="nav-text">initializeArrayWithValues</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#initializeNDArray"><span class="nav-number">36.</span> <span class="nav-text">initializeNDArray</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#intersection"><span class="nav-number">37.</span> <span class="nav-text">intersection</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#intersectionBy"><span class="nav-number">38.</span> <span class="nav-text">intersectionBy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#intersectionWith"><span class="nav-number">39.</span> <span class="nav-text">intersectionWith</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#isSorted"><span class="nav-number">40.</span> <span class="nav-text">isSorted</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#join"><span class="nav-number">41.</span> <span class="nav-text">join</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JSONtoCSV"><span class="nav-number">42.</span> <span class="nav-text">JSONtoCSV</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#last"><span class="nav-number">43.</span> <span class="nav-text">last</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#longestItem"><span class="nav-number">44.</span> <span class="nav-text">longestItem</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#mapObject"><span class="nav-number">45.</span> <span class="nav-text">mapObject</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#maxN"><span class="nav-number">46.</span> <span class="nav-text">maxN</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#minN"><span class="nav-number">47.</span> <span class="nav-text">minN</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#none"><span class="nav-number">48.</span> <span class="nav-text">none</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#nthElement"><span class="nav-number">49.</span> <span class="nav-text">nthElement</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#offset"><span class="nav-number">50.</span> <span class="nav-text">offset</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#partition"><span class="nav-number">51.</span> <span class="nav-text">partition</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#permutations"><span class="nav-number">52.</span> <span class="nav-text">permutations</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#pull"><span class="nav-number">53.</span> <span class="nav-text">pull</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#pullAtIndex"><span class="nav-number">54.</span> <span class="nav-text">pullAtIndex</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#pullAtValue"><span class="nav-number">55.</span> <span class="nav-text">pullAtValue</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#pullBy"><span class="nav-number">56.</span> <span class="nav-text">pullBy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#reducedFilter"><span class="nav-number">57.</span> <span class="nav-text">reducedFilter</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#reduceSuccessive"><span class="nav-number">58.</span> <span class="nav-text">reduceSuccessive</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#reduceWhich"><span class="nav-number">59.</span> <span class="nav-text">reduceWhich</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#reject"><span class="nav-number">60.</span> <span class="nav-text">reject</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#remove"><span class="nav-number">61.</span> <span class="nav-text">remove</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#sample"><span class="nav-number">62.</span> <span class="nav-text">sample</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#sampleSize"><span class="nav-number">63.</span> <span class="nav-text">sampleSize</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#shank"><span class="nav-number">64.</span> <span class="nav-text">shank</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#shuffle"><span class="nav-number">65.</span> <span class="nav-text">shuffle</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#similarity"><span class="nav-number">66.</span> <span class="nav-text">similarity</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#sortedIndex"><span class="nav-number">67.</span> <span class="nav-text">sortedIndex</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#sortedIndexBy"><span class="nav-number">68.</span> <span class="nav-text">sortedIndexBy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#sortedLastIndex"><span class="nav-number">69.</span> <span class="nav-text">sortedLastIndex</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#sortedLastIndexBy"><span class="nav-number">70.</span> <span class="nav-text">sortedLastIndexBy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#symmetricDifference"><span class="nav-number">71.</span> <span class="nav-text">symmetricDifference</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#symmetricDifferenceBy"><span class="nav-number">72.</span> <span class="nav-text">symmetricDifferenceBy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#symmetricDifferenceWith"><span class="nav-number">73.</span> <span class="nav-text">symmetricDifferenceWith</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#tail"><span class="nav-number">74.</span> <span class="nav-text">tail</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#take"><span class="nav-number">75.</span> <span class="nav-text">take</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#takeRight"><span class="nav-number">76.</span> <span class="nav-text">takeRight</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#takeRightWhile"><span class="nav-number">77.</span> <span class="nav-text">takeRightWhile</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#takeWhile"><span class="nav-number">78.</span> <span class="nav-text">takeWhile</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#toHash"><span class="nav-number">79.</span> <span class="nav-text">toHash</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#union"><span class="nav-number">80.</span> <span class="nav-text">union</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#unionBy"><span class="nav-number">81.</span> <span class="nav-text">unionBy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#unionWith"><span class="nav-number">82.</span> <span class="nav-text">unionWith</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#uniqueElements"><span class="nav-number">83.</span> <span class="nav-text">uniqueElements</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#uniqueElementsBy"><span class="nav-number">84.</span> <span class="nav-text">uniqueElementsBy</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#uniqueElementsByRight"><span class="nav-number">85.</span> <span class="nav-text">uniqueElementsByRight</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#uniqueSymmetricDifference"><span class="nav-number">86.</span> <span class="nav-text">uniqueSymmetricDifference</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#unzip"><span class="nav-number">87.</span> <span class="nav-text">unzip</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#unzipWith"><span class="nav-number">88.</span> <span class="nav-text">unzipWith</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#without"><span class="nav-number">89.</span> <span class="nav-text">without</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#xProd"><span class="nav-number">90.</span> <span class="nav-text">xProd</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#zip"><span class="nav-number">91.</span> <span class="nav-text">zip</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#zipObject"><span class="nav-number">92.</span> <span class="nav-text">zipObject</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#zipWith"><span class="nav-number">93.</span> <span class="nav-text">zipWith</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-fas fa-leaf"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chirenmeng</span>
</div>


  
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    
    <span title="站点阅读时长">1:24</span>
  
  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">站点总字数：</span>
    
    <span title="站点总字数">93k</span>
  




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="总访客量">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="site-pv" title="总访问量">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>







  


















  



  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery_lazyload/1.9.7/jquery.lazyload.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-reading-progress@1.1/reading_progress.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.5.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.5.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.5.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.5.0"></script>



  



  








  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  
  
    
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/valine/1.3.3/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(function (item) {
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: true,
        notify: false,
        appId: '6EmaHaRtbd9oAsbHmIwJVqDY-gzGzoHsz',
        appKey: 'OQO2mSUJRupNdXbuuQm2yeFV',
        placeholder: '(ฅ´ω`ฅ) 来呀！',
        avatar:'hide',
        meta:guest,
        pageSize:'10' || 10,
        visitor: false
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      
        // ref: https://github.com/ForbesLindesay/unescape-html
        var unescapeHtml = function(html) {
          return String(html)
            .replace(/&quot;/g, '"')
            .replace(/&#39;/g, '\'')
            .replace(/&#x3A;/g, ':')
            // replace all the other &#x; chars
            .replace(/&#(\d+);/g, function (m, p) { return String.fromCharCode(p); })
            .replace(/&lt;/g, '<')
            .replace(/&gt;/g, '>')
            .replace(/&amp;/g, '&');
        };
      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                content = unescapeHtml(content);
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

  
  
  
    
  
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1.0.0/needsharebutton.min.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
      flOptions = {};
      
          flOptions.iconStyle = "box";
      
          flOptions.boxForm = "horizontal";
      
          flOptions.position = "middleRight";
      
          flOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script>

  

  

  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=6.5.0"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=6.5.0"></script>


  

  
  
  
    
  
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@1.0.0/bookmark.min.js"></script>
  <script type="text/javascript">
  
    bookmark.scrollToMark('auto', "#更多");
  
  </script>


  

  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":130,"height":240,"superSample":2,"hOffset":10,"vOffset":-80},"mobile":{"show":true,"scale":1},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false});</script></body>
</html>
